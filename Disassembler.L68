00001000 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 5/29/2019 11:19:58 AM

00000000                             1  *-----------------------------------------------------------
00000000                             2  * Title      :
00000000                             3  * Written by :
00000000                             4  * Date       :
00000000                             5  * Description:
00000000                             6  *-----------------------------------------------------------
00000000                             7          INCLUDE TestOps.X68
00006000                             8      ORG    $6000
00006000                             9  
00006000  C200                      10      AND.B   D0,D1
00006002  C211                      11      AND.B   (A1),D1
00006004  C219                      12      AND.B   (A1)+,D1
00006006  C221                      13      AND.B   -(A1),D1
00006008  C238 1000                 14      AND.B   $1000,D1
0000600C  C239 00008000             15      AND.B   $8000,D1
00006012  C23C 00FF                 16      AND.B   #$FF,D1
00006016  C23C 0000                 17      AND.B   #$0,D1
00006016  C23C 0000                 18  -------------------- end include --------------------
0000601A                            19          INCLUDE MISC_CODE.X68
00004500                            20      ORG    $4500
00004500                            21  
00004500                            22  IF_MISC
00004500  360C                      23      MOVE.W  A4,D3
00004502                            24      
00004502  C67C FF00                 25      AND.W   #$FF00,D3
00004506                            26     
00004506  B67C 4600                 27      CMP.W   #$4600,D3
0000450A  6700 0030                 28      BEQ     IF_NOT
0000450E                            29      
0000450E  B67C 4E00                 30      CMP.W   #$4E00,D3
00004512  6700 00BC                 31      BEQ     IF_JSR
00004516                            32      
00004516                            33      ;Check to see if it might be MULS.L OR DIVU.L
00004516                            34      
00004516  360C                      35      MOVE.W  A4,D3
00004518  C67C FFC0                 36      AND.W   #$FFC0,D3
0000451C                            37      
0000451C  B67C 4C00                 38      CMP.W   #$4C00,D3
00004520  6700 011A                 39      BEQ     IF_MULS_L
00004524                            40      
00004524  B67C 4C40                 41      CMP.W   #$4C40,D3
00004528  6700 0116                 42      BEQ     IF_DIVU_L
0000452C                            43      
0000452C                            44      ;Check to see if it might be LEA
0000452C  C67C 01C0                 45      AND.W   #$01C0,D3
00004530                            46      
00004530  B67C 01C0                 47      CMP.W   #$01C0,D3
00004534  6700 00BC                 48      BEQ     IF_LEA
00004538                            49      
00004538                            50      ;Check if it's MOVEM
00004538  6000 010A                 51      BRA     CHECK_MOVEM
0000453C                            52  
0000453C                            53  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0000453C                            54  ;NOT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0000453C                            55  IF_NOT
0000453C  43F9 0000111E             56      LEA     NOT_OUTPUT,A1
00004542  103C 000E                 57      MOVE.B  #14,D0
00004546  4E4F                      58      TRAP    #15
00004548                            59  
00004548  360C                      60      MOVE.W  A4,D3
0000454A  C67C 00C0                 61      AND.W   #$00C0,D3
0000454E                            62      
0000454E  B67C 0000                 63      CMP.W   #$0000,D3
00004552  6700 0016                 64      BEQ     DISPLAY_NOT_BYTE
00004556                            65      
00004556  B67C 0040                 66      CMP.W   #$0040,D3
0000455A  6700 0030                 67      BEQ     DISPLAY_NOT_WORD
0000455E                            68      
0000455E  B67C 0080                 69      CMP.W   #$0080,D3
00004562  6700 004A                 70      BEQ     DISPLAY_NOT_LONG
00004566                            71  
00004566  6000 CB4A                 72      BRA     IF_INVALID_OP
0000456A                            73  
0000456A                            74  DISPLAY_NOT_BYTE
0000456A  43F9 0000112B             75      LEA     B_OUTPUT,A1
00004570  103C 000E                 76      MOVE.B  #14,D0
00004574  4E4F                      77      TRAP    #15
00004576                            78      
00004576  380C                      79      MOVE.W  A4,D4 ;register
00004578  3A0C                      80      MOVE.W  A4,D5 ;mode
0000457A                            81      
0000457A  C87C 0007                 82      AND.W   #$0007,D4
0000457E                            83      
0000457E  CA7C 0038                 84      AND.W   #$0038,D5
00004582  E74D                      85      LSL.W   #3,D5
00004584                            86      
00004584  6100 00C2                 87      BSR     DISPLAY_ea_NOT
00004588                            88  
00004588  6000 CB38                 89      BRA     ITERATE
0000458C                            90  
0000458C                            91  DISPLAY_NOT_WORD
0000458C  43F9 0000112F             92      LEA     W_OUTPUT,A1
00004592  103C 000E                 93      MOVE.B  #14,D0
00004596  4E4F                      94      TRAP    #15
00004598                            95      
00004598  380C                      96      MOVE.W  A4,D4 ;register
0000459A  3A0C                      97      MOVE.W  A4,D5 ;mode
0000459C                            98      
0000459C  C87C 0007                 99      AND.W   #$0007,D4
000045A0                           100      
000045A0  CA7C 0038                101      AND.W   #$0038,D5
000045A4  E64D                     102      LSR.W   #3,D5
000045A6                           103      
000045A6  6100 00A0                104      BSR     DISPLAY_ea_NOT
000045AA                           105      
000045AA  6000 CB16                106      BRA     ITERATE
000045AE                           107  
000045AE                           108  DISPLAY_NOT_LONG
000045AE  43F9 00001133            109      LEA     L_OUTPUT,A1
000045B4  103C 000E                110      MOVE.B  #14,D0
000045B8  4E4F                     111      TRAP    #15
000045BA                           112      
000045BA  380C                     113      MOVE.W  A4,D4 ;register
000045BC  3A0C                     114      MOVE.W  A4,D5 ;mode
000045BE                           115      
000045BE  C87C 0007                116      AND.W   #$0007,D4
000045C2                           117      
000045C2  CA7C 0038                118      AND.W   #$0038,D5
000045C6  E64D                     119      LSR.W   #3,D5    
000045C8                           120      
000045C8  6100 007E                121      BSR     DISPLAY_ea_NOT
000045CC                           122      
000045CC  6000 CAF4                123      BRA     ITERATE
000045D0                           124  
000045D0                           125  
000045D0                           126  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000045D0                           127  ;JSR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000045D0                           128  IF_JSR
000045D0  43F9 00001122            129      LEA     JSR_OUTPUT,A1
000045D6  103C 000E                130      MOVE.B  #14,D0
000045DA  4E4F                     131      TRAP    #15
000045DC                           132  
000045DC  380C                     133      MOVE.W  A4,D4 ;register
000045DE  3A0C                     134      MOVE.W  A4,D5 ;mode
000045E0                           135      
000045E0  C87C 0007                136      AND.W   #$0007,D4
000045E4                           137      
000045E4  CA7C 0038                138      AND.W   #$0038,D5
000045E8  E74D                     139      LSL.W   #3,D5    
000045EA                           140      
000045EA  6100 0180                141      BSR     DISPLAY_ea_JSR_LEA
000045EE                           142      
000045EE  6000 CAD2                143      BRA     ITERATE
000045F2                           144  
000045F2                           145  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000045F2                           146  ;LEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000045F2                           147  IF_LEA
000045F2  43F9 00001122            148      LEA     JSR_OUTPUT,A1
000045F8  103C 000E                149      MOVE.B  #14,D0
000045FC  4E4F                     150      TRAP    #15
000045FE                           151      
000045FE  380C                     152      MOVE.W  A4,D4 ;ea register
00004600  3A0C                     153      MOVE.W  A4,D5 ;ea mode
00004602                           154  
00004602  C87C 0007                155      AND.W   #$0007,D4
00004606  CA7C 0038                156      AND.W   #$0038,D5
0000460A                           157      
0000460A  E64D                     158      LSR.W   #3,D5 
0000460C                           159      
0000460C  6100 015E                160      BSR     DISPLAY_ea_JSR_LEA
00004610                           161      
00004610  123C 002C                162      MOVE.B  #COMMA,D1
00004614  103C 0006                163      MOVE.B  #6,D0
00004618  4E4F                     164      TRAP    #15
0000461A                           165      
0000461A  123C 0041                166      MOVE.B  #A,D1
0000461E  103C 0006                167      MOVE.B  #6,D0
00004622  4E4F                     168      TRAP    #15
00004624                           169      
00004624  320C                     170      MOVE.W  A4,D1
00004626                           171      
00004626  C27C 0E00                172      AND.W   #$0E00,D1
0000462A                           173      
0000462A  EE49                     174      LSR     #7,D1
0000462C  E449                     175      LSR     #2,D1   
0000462E                           176          
0000462E  143C 0010                177      MOVE.B  #16,D2
00004632  103C 000F                178      MOVE.B  #15,D0
00004636  4E4F                     179      TRAP    #15
00004638                           180      
00004638  6000 CA88                181      BRA     ITERATE
0000463C                           182      
0000463C                           183  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0000463C                           184  ;MULS.L;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0000463C                           185  IF_MULS_L
0000463C  6000 CA74                186      BRA     IF_INVALID_OP
00004640                           187  
00004640                           188  
00004640                           189  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00004640                           190  ;DIVU.L;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00004640                           191  IF_DIVU_L
00004640  6000 CA70                192      BRA     IF_INVALID_OP
00004644                           193  
00004644                           194  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00004644                           195  ;MOVEM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00004644                           196  CHECK_MOVEM
00004644  6000 CA6C                197      BRA     IF_INVALID_OP
00004648                           198      
00004648                           199      
00004648                           200      
00004648                           201  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00004648                           202  DISPLAY_ea_NOT
00004648  B87C 0000                203      CMP.W   #%000,D4
0000464C  6700 0026                204      BEQ     DISPLAY_Dn_NOT
00004650                           205  
00004650  B87C 0002                206      CMP.W   #%010,D4
00004654  6700 0036                207      BEQ     DISPLAY_An_ADDRESS_NOT
00004658                           208      
00004658  B87C 0003                209      CMP.W   #%011,D4
0000465C  6700 005A                210      BEQ     DISPLAY_An_ADDRESS_INCREMENT_NOT
00004660                           211      
00004660  B87C 0004                212      CMP.W   #%100,D4
00004664  6700 0088                213      BEQ     DISPLAY_An_ADDRESS_DECREMENT_NOT
00004668                           214      
00004668  B87C 0007                215      CMP.W   #%111,D4
0000466C  6700 00B6                216      BEQ     DISPLAY_ADDRESS_OR_DATA_NOT
00004670                           217      
00004670  6000 CA40                218      BRA     IF_INVALID_OP
00004674                           219      
00004674                           220  DISPLAY_Dn_NOT
00004674  123C 0044                221      MOVE.B  #D,D1
00004678  103C 0006                222      MOVE.B  #6,D0
0000467C  4E4F                     223      TRAP    #15
0000467E                           224      
0000467E  143C 0010                225      MOVE.B  #16,D2
00004682  103C 000F                226      MOVE.B  #15,D0
00004686  2205                     227      MOVE.L  D5,D1
00004688  4E4F                     228      TRAP    #15
0000468A                           229      
0000468A  4E75                     230      RTS
0000468C                           231  
0000468C                           232  DISPLAY_An_ADDRESS_NOT
0000468C  123C 0028                233      MOVE.B  #LEFT_PAR,D1
00004690  103C 0006                234      MOVE.B  #6,D0
00004694  4E4F                     235      TRAP    #15
00004696                           236  
00004696  123C 0041                237      MOVE.B  #A,D1
0000469A  103C 0006                238      MOVE.B  #6,D0
0000469E  4E4F                     239      TRAP    #15
000046A0                           240      
000046A0  143C 0010                241      MOVE.B  #16,D2
000046A4  103C 000F                242      MOVE.B  #15,D0
000046A8  2205                     243      MOVE.L  D5,D1
000046AA  4E4F                     244      TRAP    #15
000046AC                           245      
000046AC  123C 0029                246      MOVE.B  #RIGHT_PAR,D1
000046B0  103C 0006                247      MOVE.B  #6,D0
000046B4  4E4F                     248      TRAP    #15
000046B6                           249  
000046B6  4E75                     250      RTS
000046B8                           251  
000046B8                           252  DISPLAY_An_ADDRESS_INCREMENT_NOT
000046B8  123C 0028                253      MOVE.B  #LEFT_PAR,D1
000046BC  103C 0006                254      MOVE.B  #6,D0
000046C0  4E4F                     255      TRAP    #15
000046C2                           256  
000046C2  123C 0041                257      MOVE.B  #A,D1
000046C6  103C 0006                258      MOVE.B  #6,D0
000046CA  4E4F                     259      TRAP    #15
000046CC                           260      
000046CC  143C 0010                261      MOVE.B  #16,D2
000046D0  103C 000F                262      MOVE.B  #15,D0
000046D4  2205                     263      MOVE.L  D5,D1
000046D6  4E4F                     264      TRAP    #15
000046D8                           265      
000046D8  123C 0029                266      MOVE.B  #RIGHT_PAR,D1
000046DC  103C 0006                267      MOVE.B  #6,D0
000046E0  4E4F                     268      TRAP    #15
000046E2                           269      
000046E2  123C 002B                270      MOVE.B  #PLUS,D1
000046E6  103C 0006                271      MOVE.B  #6,D0
000046EA  4E4F                     272      TRAP    #15
000046EC                           273      
000046EC  4E75                     274      RTS
000046EE                           275  
000046EE                           276  DISPLAY_An_ADDRESS_DECREMENT_NOT
000046EE  123C 002D                277      MOVE.B  #MINUS,D1
000046F2  103C 0006                278      MOVE.B  #6,D0
000046F6  4E4F                     279      TRAP    #15
000046F8                           280  
000046F8  123C 0028                281      MOVE.B  #LEFT_PAR,D1
000046FC  103C 0006                282      MOVE.B  #6,D0
00004700  4E4F                     283      TRAP    #15
00004702                           284  
00004702  123C 0041                285      MOVE.B  #A,D1
00004706  103C 0006                286      MOVE.B  #6,D0
0000470A  4E4F                     287      TRAP    #15
0000470C                           288      
0000470C  143C 0010                289      MOVE.B  #16,D2
00004710  103C 000F                290      MOVE.B  #15,D0
00004714  2205                     291      MOVE.L  D5,D1
00004716  4E4F                     292      TRAP    #15
00004718                           293      
00004718  123C 0029                294      MOVE.B  #RIGHT_PAR,D1
0000471C  103C 0006                295      MOVE.B  #6,D0
00004720  4E4F                     296      TRAP    #15
00004722                           297  
00004722  4E75                     298      RTS
00004724                           299  
00004724                           300  DISPLAY_ADDRESS_OR_DATA_NOT
00004724  B87C 0000                301      CMP.W   #%000,D4
00004728  6700 CFC0                302      BEQ     DISPLAY_ADDRESS_WORD_SRC
0000472C                           303      
0000472C  B87C 0001                304      CMP.W   #%001,D4
00004730  6700 CFD6                305      BEQ     DISPLAY_ADDRESS_LONG_SRC
00004734                           306  
00004734  6000 C97C                307      BRA     IF_INVALID_OP
00004738                           308  
00004738                           309  DISPLAY_ADDRESS_WORD_NOT
00004738  544A                     310      ADDQ    #2,A2
0000473A                           311      
0000473A  123C 0024                312      MOVE.B  #HEX,D1
0000473E  103C 0006                313      MOVE.B  #6,D0
00004742  4E4F                     314      TRAP    #15
00004744                           315      
00004744  3212                     316      MOVE.W  (A2),D1
00004746  C2BC 0000FFFF            317      AND.L   #$0000FFFF,D1
0000474C  103C 000F                318      MOVE.B  #15,D0
00004750  4E4F                     319      TRAP    #15
00004752                           320      
00004752  4E75                     321      RTS
00004754                           322  
00004754                           323  DISPLAY_ADDRESS_LONG_NOT
00004754  544A                     324      ADDQ    #2,A2
00004756                           325      
00004756  123C 0024                326      MOVE.B  #HEX,D1
0000475A  103C 0006                327      MOVE.B  #6,D0
0000475E  4E4F                     328      TRAP    #15
00004760                           329      
00004760  2212                     330      MOVE.L  (A2),D1
00004762  103C 000F                331      MOVE.B  #15,D0
00004766  4E4F                     332      TRAP    #15
00004768                           333      
00004768  544A                     334      ADDQ    #2,A2
0000476A                           335  
0000476A  4E75                     336      RTS
0000476C                           337      
0000476C                           338  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0000476C                           339  DISPLAY_ea_JSR_LEA
0000476C  B87C 0002                340      CMP.W   #%010,D4
00004770  6700 FF1A                341      BEQ     DISPLAY_An_ADDRESS_NOT
00004774                           342      
00004774  B87C 0007                343      CMP.W   #%111,D4
00004778  67AA                     344      BEQ     DISPLAY_ADDRESS_OR_DATA_NOT
0000477A                           345      
0000477A  6000 C936                346      BRA     IF_INVALID_OP 
0000477E                           347      
0000477E                           348  -------------------- end include --------------------
0000477E                           349          INCLUDE DIVU_OR.X68
00004000                           350      ORG    $4000
00004000                           351  IF_DIVU_OR
00004000  360C                     352      MOVE.W  A4,D3
00004002                           353      
00004002                           354      ;Get the register
00004002  C67C 0FFF                355      AND.W   #$0FFF,D3
00004006  E743                     356      ASL.W   #3,D3
00004008  3803                     357      MOVE.W  D3,D4
0000400A  C8BC 0000F000            358      AND.L   #$0000F000,D4
00004010  E95C                     359      ROL.W   #4,D4
00004012  2844                     360      MOVE.L  D4,A4 ;register
00004014                           361  
00004014                           362      ;Get the opmode
00004014  C67C 0FFF                363      AND.W   #$0FFF,D3
00004018  E743                     364      ASL.W   #3,D3
0000401A  3803                     365      MOVE.W  D3,D4
0000401C  C8BC 0000F000            366      AND.L   #$0000F000,D4
00004022  E95C                     367      ROL.W   #4,D4
00004024  2A44                     368      MOVE.L  D4,A5 ;opmode
00004026                           369  
00004026                           370      ;Get the effective mode 
00004026  C67C 0FFF                371      AND.W   #$0FFF,D3
0000402A  E743                     372      ASL.W   #3,D3
0000402C  3803                     373      MOVE.W  D3,D4
0000402E  C8BC 0000F000            374      AND.L   #$0000F000,D4
00004034  E95C                     375      ROL.W   #4,D4
00004036  2C44                     376      MOVE.L  D4,A6 ;effective mode
00004038                           377      
00004038                           378      ;Get the effective register
00004038  C67C 0FFF                379      AND.W   #$0FFF,D3
0000403C  E743                     380      ASL.W   #3,D3
0000403E  3803                     381      MOVE.W  D3,D4
00004040  C8BC 0000F000            382      AND.L   #$0000F000,D4
00004046  E95C                     383      ROL.W   #4,D4 ;effective register
00004048                           384      
00004048  143C 0010                385      MOVE.B  #16,D2
0000404C  103C 000F                386      MOVE.B  #15,D0
00004050                           387      
00004050  6000 0002                388      BRA     DETERMINE_DIVU_OR
00004054                           389  
00004054                           390  DETERMINE_DIVU_OR
00004054  BAFC 0003                391      CMP.W   #%011,A5
00004058  6700 0146                392      BEQ     DISPLAY_DIVU
0000405C                           393      
0000405C  BAFC 0007                394      CMP.W   #%111,A5
00004060  6700 D050                395      BEQ     IF_INVALID_OP
00004064                           396      
00004064  6000 0002                397      BRA     DISPLAY_OR
00004068                           398  
00004068                           399  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00004068                           400  ;OR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00004068                           401  DISPLAY_OR
00004068  43F9 00001116            402      LEA     OR_OUTPUT,A1
0000406E  103C 000E                403      MOVE.B  #14,D0
00004072  4E4F                     404      TRAP    #15
00004074                           405  
00004074  BAFC 0000                406      CMP.W   #%000,A5
00004078  6700 002E                407      BEQ     DISPLAY_BYTE_SRC_OR
0000407C                           408      
0000407C  BAFC 0001                409      CMP.W   #%001,A5
00004080  6700 0048                410      BEQ     DISPLAY_WORD_SRC_OR
00004084                           411      
00004084  BAFC 0002                412      CMP.W   #%010,A5
00004088  6700 0062                413      BEQ     DISPLAY_LONG_SRC_OR
0000408C                           414      
0000408C  BAFC 0004                415      CMP.W   #%100,A5
00004090  6700 007C                416      BEQ     DISPLAY_BYTE_DEST_OR
00004094                           417      
00004094  BAFC 0005                418      CMP.W   #%101,A5
00004098  6700 0096                419      BEQ     DISPLAY_WORD_DEST_OR
0000409C                           420      
0000409C  BAFC 0006                421      CMP.W   #%110,A5
000040A0  6700 00B0                422      BEQ     DISPLAY_LONG_DEST_OR
000040A4                           423      
000040A4  6000 D00C                424      BRA     IF_INVALID_OP 
000040A8                           425  
000040A8                           426  DISPLAY_BYTE_SRC_OR
000040A8  43F9 0000112B            427      LEA     B_OUTPUT,A1
000040AE  103C 000E                428      MOVE.B  #14,D0
000040B2  4E4F                     429      TRAP    #15
000040B4                           430  
000040B4  6100 00BE                431      BSR     GET_EFFECTIVE_ADDRESS_OR_SRC  
000040B8                           432      
000040B8  123C 002C                433      MOVE.B  #COMMA,D1
000040BC  103C 0006                434      MOVE.B  #6,D0
000040C0  4E4F                     435      TRAP    #15
000040C2                           436      
000040C2  6100 E2C0                437      BSR     DISPLAY_Dn_ADD
000040C6                           438      
000040C6  6000 CFFA                439      BRA     ITERATE
000040CA                           440  
000040CA                           441  DISPLAY_WORD_SRC_OR
000040CA  43F9 0000112F            442      LEA     W_OUTPUT,A1
000040D0  103C 000E                443      MOVE.B  #14,D0
000040D4  4E4F                     444      TRAP    #15
000040D6                           445  
000040D6  6100 009C                446      BSR     GET_EFFECTIVE_ADDRESS_OR_SRC  
000040DA                           447  
000040DA  123C 002C                448      MOVE.B  #COMMA,D1
000040DE  103C 0006                449      MOVE.B  #6,D0
000040E2  4E4F                     450      TRAP    #15    
000040E4                           451  
000040E4  6100 E29E                452      BSR     DISPLAY_Dn_ADD
000040E8                           453      
000040E8  6000 CFD8                454      BRA     ITERATE
000040EC                           455  
000040EC                           456  DISPLAY_LONG_SRC_OR
000040EC  43F9 00001133            457      LEA     L_OUTPUT,A1
000040F2  103C 000E                458      MOVE.B  #14,D0
000040F6  4E4F                     459      TRAP    #15
000040F8                           460  
000040F8  6100 007A                461      BSR     GET_EFFECTIVE_ADDRESS_OR_SRC  
000040FC                           462  
000040FC  123C 002C                463      MOVE.B  #COMMA,D1
00004100  103C 0006                464      MOVE.B  #6,D0
00004104  4E4F                     465      TRAP    #15    
00004106                           466  
00004106  6100 E27C                467      BSR     DISPLAY_Dn_ADD
0000410A                           468      
0000410A  6000 CFB6                469      BRA     ITERATE
0000410E                           470  
0000410E                           471  DISPLAY_BYTE_DEST_OR
0000410E  43F9 0000112B            472      LEA     B_OUTPUT,A1
00004114  103C 000E                473      MOVE.B  #14,D0
00004118  4E4F                     474      TRAP    #15
0000411A                           475  
0000411A  6100 E268                476      BSR     DISPLAY_Dn_ADD
0000411E                           477      
0000411E  123C 002C                478      MOVE.B  #COMMA,D1
00004122  103C 0006                479      MOVE.B  #6,D0
00004126  4E4F                     480      TRAP    #15    
00004128                           481  
00004128  6100 E272                482      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
0000412C                           483      
0000412C  6000 CF94                484      BRA     ITERATE
00004130                           485  
00004130                           486  DISPLAY_WORD_DEST_OR
00004130  43F9 0000112F            487      LEA     W_OUTPUT,A1
00004136  103C 000E                488      MOVE.B  #14,D0
0000413A  4E4F                     489      TRAP    #15
0000413C                           490  
0000413C  6100 E246                491      BSR     DISPLAY_Dn_ADD
00004140                           492      
00004140  123C 002C                493      MOVE.B  #COMMA,D1
00004144  103C 0006                494      MOVE.B  #6,D0
00004148  4E4F                     495      TRAP    #15    
0000414A                           496  
0000414A  6100 E250                497      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
0000414E                           498      
0000414E  6000 CF72                499      BRA     ITERATE
00004152                           500  
00004152                           501  DISPLAY_LONG_DEST_OR
00004152  43F9 00001133            502      LEA     L_OUTPUT,A1
00004158  103C 000E                503      MOVE.B  #14,D0
0000415C  4E4F                     504      TRAP    #15
0000415E                           505  
0000415E  6100 E224                506      BSR     DISPLAY_Dn_ADD
00004162                           507      
00004162  123C 002C                508      MOVE.B  #COMMA,D1
00004166  103C 0006                509      MOVE.B  #6,D0
0000416A  4E4F                     510      TRAP    #15    
0000416C                           511  
0000416C  6100 E22E                512      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
00004170                           513      
00004170  6000 CF50                514      BRA     ITERATE
00004174                           515  
00004174                           516  GET_EFFECTIVE_ADDRESS_OR_SRC   
00004174  BCFC 0000                517      CMP.W   #%000,A6
00004178  6700 DF62                518      BEQ     DISPLAY_Dn_ea
0000417C                           519  
0000417C  BCFC 0002                520      CMP.W   #%010,A6
00004180  6700 DF8A                521      BEQ     DISPLAY_An_ADDRESS_ea
00004184                           522      
00004184  BCFC 0003                523      CMP.W   #%011,A6
00004188  6700 DFAE                524      BEQ     DISPLAY_An_ADDRESS_INCREMENT_ea
0000418C                           525      
0000418C  BCFC 0004                526      CMP.W   #%100,A6
00004190  6700 DFDC                527      BEQ     DISPLAY_An_ADDRESS_DECREMENT_ea
00004194                           528      
00004194  BCFC 0007                529      CMP.W   #%111,A6
00004198  6700 E00A                530      BEQ     DISPLAY_ADDRESS_OR_DATA_ea
0000419C                           531      
0000419C  6000 CF14                532      BRA     IF_INVALID_OP
000041A0                           533  
000041A0                           534  
000041A0                           535  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000041A0                           536  ;DIVU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000041A0                           537  
000041A0                           538  ;NOT IMPLEMENTED YET!
000041A0                           539  
000041A0                           540  DISPLAY_DIVU
000041A0  6000 CF10                541      BRA     IF_INVALID_OP
000041A4                           542  
000041A4                           543  
000041A4                           544  -------------------- end include --------------------
000041A4                           545          INCLUDE MOVE_MOVEA.X68
00001500                           546      ORG    $1500
00001500                           547      
00001500                           548  PARSE_MOVE
00001500  360C                     549      MOVE.W  A4,D3
00001502                           550      
00001502                           551      ;Get the destination register
00001502  C67C 0FFF                552      AND.W   #$0FFF,D3
00001506  E743                     553      ASL.W   #3,D3
00001508  3803                     554      MOVE.W  D3,D4
0000150A  C8BC 0000F000            555      AND.L   #$0000F000,D4
00001510  E95C                     556      ROL.W   #4,D4
00001512  2844                     557      MOVE.L  D4,A4 ;Destination register
00001514                           558  
00001514                           559      ;Get the destination mode
00001514  C67C 0FFF                560      AND.W   #$0FFF,D3
00001518  E743                     561      ASL.W   #3,D3
0000151A  3803                     562      MOVE.W  D3,D4
0000151C  C8BC 0000F000            563      AND.L   #$0000F000,D4
00001522  E95C                     564      ROL.W   #4,D4
00001524  2A44                     565      MOVE.L  D4,A5 ;Destination mode
00001526                           566  
00001526                           567      ;Get the source mode 
00001526  C67C 0FFF                568      AND.W   #$0FFF,D3
0000152A  E743                     569      ASL.W   #3,D3
0000152C  3803                     570      MOVE.W  D3,D4
0000152E  C8BC 0000F000            571      AND.L   #$0000F000,D4
00001534  E95C                     572      ROL.W   #4,D4
00001536  2C44                     573      MOVE.L  D4,A6 ;Source mode
00001538                           574      
00001538                           575      ;Get the source register
00001538  C67C 0FFF                576      AND.W   #$0FFF,D3
0000153C  E743                     577      ASL.W   #3,D3
0000153E  3803                     578      MOVE.W  D3,D4
00001540  C8BC 0000F000            579      AND.L   #$0000F000,D4
00001546  E95C                     580      ROL.W   #4,D4 ;Source register
00001548                           581      
00001548  143C 0010                582      MOVE.B  #16,D2
0000154C  103C 000F                583      MOVE.B  #15,D0
00001550                           584      
00001550  BAFC 0001                585      CMP.W   #%001,A5
00001554  6700 0006                586      BEQ     DISPLAY_MOVEA
00001558  6000 0012                587      BRA     DISPLAY_MOVE
0000155C                           588      
0000155C                           589  DISPLAY_MOVEA
0000155C  43F9 000010F0            590      LEA     MOVEA_OUTPUT,A1
00001562  103C 000E                591      MOVE.B  #14,D0
00001566  4E4F                     592      TRAP    #15
00001568  6000 0012                593      BRA     DISPLAY_TYPE
0000156C                           594  
0000156C                           595  DISPLAY_MOVE
0000156C  43F9 000010F6            596      LEA     MOVE_OUTPUT,A1
00001572  103C 000E                597      MOVE.B  #14,D0
00001576  4E4F                     598      TRAP    #15
00001578  6000 0002                599      BRA     DISPLAY_TYPE
0000157C                           600      
0000157C                           601  DISPLAY_TYPE
0000157C  BA7C 1000                602      CMP.W   #MOVE_B_CODE,D5
00001580  6700 0016                603      BEQ     DISPLAY_BYTE
00001584                           604      
00001584  BA7C 3000                605      CMP.W   #MOVE_W_CODE,D5
00001588  6700 001E                606      BEQ     DISPLAY_WORD
0000158C                           607      
0000158C  BA7C 2000                608      CMP.W   #MOVE_L_CODE,D5
00001590  6700 0026                609      BEQ     DISPLAY_LONG
00001594                           610      
00001594  6000 FB1C                611      BRA     IF_INVALID_OP     
00001598                           612      
00001598                           613  DISPLAY_BYTE
00001598  43F9 0000112B            614      LEA     B_OUTPUT,A1
0000159E  103C 000E                615      MOVE.B  #14,D0
000015A2  4E4F                     616      TRAP    #15
000015A4  6000 0022                617      BRA     DISPLAY_SRC_MODE
000015A8                           618  
000015A8                           619  DISPLAY_WORD
000015A8  43F9 0000112F            620      LEA     W_OUTPUT,A1
000015AE  103C 000E                621      MOVE.B  #14,D0
000015B2  4E4F                     622      TRAP    #15
000015B4  6000 0012                623      BRA     DISPLAY_SRC_MODE
000015B8                           624  
000015B8                           625  DISPLAY_LONG
000015B8  43F9 00001133            626      LEA     L_OUTPUT,A1
000015BE  103C 000E                627      MOVE.B  #14,D0
000015C2  4E4F                     628      TRAP    #15
000015C4  6000 0002                629      BRA     DISPLAY_SRC_MODE
000015C8                           630  
000015C8                           631  DISPLAY_SRC_MODE
000015C8  BCFC 0000                632      CMP.W   #%000,A6
000015CC  6700 002E                633      BEQ     DISPLAY_Dn_SRC
000015D0                           634      
000015D0  BCFC 0001                635      CMP.W   #%001,A6
000015D4  6700 0040                636      BEQ     DISPLAY_An_SRC
000015D8                           637      
000015D8  BCFC 0002                638      CMP.W   #%010,A6
000015DC  6700 0052                639      BEQ     DISPLAY_AT_An_SRC
000015E0                           640      
000015E0  BCFC 0003                641      CMP.W   #%011,A6
000015E4  6700 0078                642      BEQ     DISPLAY_AT_An_INCREMENT_SRC
000015E8                           643      
000015E8  BCFC 0004                644      CMP.W   #%100,A6
000015EC  6700 00A8                645      BEQ     DISPLAY_AT_An_DECREMENT_SRC
000015F0                           646      
000015F0  BCFC 0007                647      CMP.W   #%111,A6
000015F4  6700 00D8                648      BEQ     DISPLAY_ADDRESS_OR_DATA_SRC
000015F8                           649      
000015F8  6000 FAB8                650      BRA     IF_INVALID_OP
000015FC                           651      
000015FC                           652  DISPLAY_Dn_SRC
000015FC  123C 0044                653      MOVE.B  #D,D1
00001600  103C 0006                654      MOVE.B  #6,D0
00001604  4E4F                     655      TRAP    #15
00001606                           656      
00001606  143C 0010                657      MOVE.B  #16,D2
0000160A  103C 000F                658      MOVE.B  #15,D0
0000160E  2204                     659      MOVE.L  D4,D1
00001610  4E4F                     660      TRAP    #15
00001612                           661      
00001612  6000 01A0                662      BRA     DISPLAY_DEST
00001616                           663  
00001616                           664  DISPLAY_An_SRC
00001616  123C 0041                665      MOVE.B  #A,D1
0000161A  103C 0006                666      MOVE.B  #6,D0
0000161E  4E4F                     667      TRAP    #15
00001620                           668      
00001620  143C 0010                669      MOVE.B  #16,D2
00001624  103C 000F                670      MOVE.B  #15,D0
00001628  2204                     671      MOVE.L  D4,D1
0000162A  4E4F                     672      TRAP    #15
0000162C                           673  
0000162C  6000 0186                674      BRA     DISPLAY_DEST
00001630                           675  
00001630                           676  DISPLAY_AT_An_SRC
00001630  123C 0028                677      MOVE.B  #LEFT_PAR,D1
00001634  103C 0006                678      MOVE.B  #6,D0
00001638  4E4F                     679      TRAP    #15
0000163A                           680  
0000163A  123C 0041                681      MOVE.B  #A,D1
0000163E  103C 0006                682      MOVE.B  #6,D0
00001642  4E4F                     683      TRAP    #15
00001644                           684      
00001644  143C 0010                685      MOVE.B  #16,D2
00001648  103C 000F                686      MOVE.B  #15,D0
0000164C  2204                     687      MOVE.L  D4,D1
0000164E  4E4F                     688      TRAP    #15
00001650                           689      
00001650  123C 0029                690      MOVE.B  #RIGHT_PAR,D1
00001654  103C 0006                691      MOVE.B  #6,D0
00001658  4E4F                     692      TRAP    #15
0000165A                           693  
0000165A  6000 0158                694      BRA     DISPLAY_DEST
0000165E                           695  
0000165E                           696  DISPLAY_AT_An_INCREMENT_SRC
0000165E  123C 0028                697      MOVE.B  #LEFT_PAR,D1
00001662  103C 0006                698      MOVE.B  #6,D0
00001666  4E4F                     699      TRAP    #15
00001668                           700  
00001668  123C 0041                701      MOVE.B  #A,D1
0000166C  103C 0006                702      MOVE.B  #6,D0
00001670  4E4F                     703      TRAP    #15
00001672                           704      
00001672  143C 0010                705      MOVE.B  #16,D2
00001676  103C 000F                706      MOVE.B  #15,D0
0000167A  2204                     707      MOVE.L  D4,D1
0000167C  4E4F                     708      TRAP    #15
0000167E                           709      
0000167E  123C 0029                710      MOVE.B  #RIGHT_PAR,D1
00001682  103C 0006                711      MOVE.B  #6,D0
00001686  4E4F                     712      TRAP    #15
00001688                           713      
00001688  123C 002B                714      MOVE.B  #PLUS,D1
0000168C  103C 0006                715      MOVE.B  #6,D0
00001690  4E4F                     716      TRAP    #15
00001692                           717      
00001692  6000 0120                718      BRA     DISPLAY_DEST
00001696                           719  
00001696                           720  DISPLAY_AT_An_DECREMENT_SRC
00001696  123C 002D                721      MOVE.B  #MINUS,D1
0000169A  103C 0006                722      MOVE.B  #6,D0
0000169E  4E4F                     723      TRAP    #15
000016A0                           724  
000016A0  123C 0028                725      MOVE.B  #LEFT_PAR,D1
000016A4  103C 0006                726      MOVE.B  #6,D0
000016A8  4E4F                     727      TRAP    #15
000016AA                           728  
000016AA  123C 0041                729      MOVE.B  #A,D1
000016AE  103C 0006                730      MOVE.B  #6,D0
000016B2  4E4F                     731      TRAP    #15
000016B4                           732      
000016B4  143C 0010                733      MOVE.B  #16,D2
000016B8  103C 000F                734      MOVE.B  #15,D0
000016BC  2204                     735      MOVE.L  D4,D1
000016BE  4E4F                     736      TRAP    #15
000016C0                           737      
000016C0  123C 0029                738      MOVE.B  #RIGHT_PAR,D1
000016C4  103C 0006                739      MOVE.B  #6,D0
000016C8  4E4F                     740      TRAP    #15
000016CA                           741  
000016CA  6000 00E8                742      BRA     DISPLAY_DEST
000016CE                           743  
000016CE                           744  DISPLAY_ADDRESS_OR_DATA_SRC
000016CE  B87C 0000                745      CMP.W   #%000,D4
000016D2  6700 0016                746      BEQ     DISPLAY_ADDRESS_WORD_SRC
000016D6                           747      
000016D6  B87C 0001                748      CMP.W   #%001,D4
000016DA  6700 002C                749      BEQ     DISPLAY_ADDRESS_LONG_SRC
000016DE                           750  
000016DE  B87C 0004                751      CMP.W   #%100,D4
000016E2  6700 003E                752      BEQ     DISPLAY_DATA_SRC
000016E6                           753  
000016E6  6000 F9CA                754      BRA     IF_INVALID_OP
000016EA                           755  
000016EA                           756  DISPLAY_ADDRESS_WORD_SRC
000016EA  544A                     757      ADDQ    #2,A2
000016EC                           758      
000016EC  123C 0024                759      MOVE.B  #HEX,D1
000016F0  103C 0006                760      MOVE.B  #6,D0
000016F4  4E4F                     761      TRAP    #15
000016F6                           762      
000016F6  3212                     763      MOVE.W  (A2),D1
000016F8  C2BC 0000FFFF            764      AND.L   #$0000FFFF,D1
000016FE  103C 000F                765      MOVE.B  #15,D0
00001702  4E4F                     766      TRAP    #15
00001704                           767      
00001704  6000 00AE                768      BRA     DISPLAY_DEST
00001708                           769  
00001708                           770  DISPLAY_ADDRESS_LONG_SRC
00001708  544A                     771      ADDQ    #2,A2
0000170A                           772      
0000170A  123C 0024                773      MOVE.B  #HEX,D1
0000170E  103C 0006                774      MOVE.B  #6,D0
00001712  4E4F                     775      TRAP    #15
00001714                           776      
00001714  2212                     777      MOVE.L  (A2),D1
00001716  103C 000F                778      MOVE.B  #15,D0
0000171A  4E4F                     779      TRAP    #15
0000171C                           780      
0000171C  544A                     781      ADDQ    #2,A2
0000171E                           782  
0000171E  6000 0094                783      BRA     DISPLAY_DEST
00001722                           784      
00001722                           785  DISPLAY_DATA_SRC
00001722  BA7C 1000                786      CMP.W   #MOVE_B_CODE,D5
00001726  6700 0016                787      BEQ     DISPLAY_DATA_SRC_BYTE
0000172A                           788      
0000172A  BA7C 3000                789      CMP.W   #MOVE_W_CODE,D5
0000172E  6700 0038                790      BEQ     DISPLAY_DATA_SRC_WORD
00001732                           791      
00001732  BA7C 2000                792      CMP.W   #MOVE_L_CODE,D5
00001736  6700 0058                793      BEQ     DISPLAY_DATA_SRC_LONG
0000173A                           794  
0000173A  6000 F976                795      BRA     IF_INVALID_OP
0000173E                           796      
0000173E                           797  DISPLAY_DATA_SRC_BYTE
0000173E  564A                     798      ADDQ    #3,A2
00001740                           799      
00001740  123C 0023                800      MOVE.B  #NUM,D1
00001744  103C 0006                801      MOVE.B  #6,D0
00001748  4E4F                     802      TRAP    #15    
0000174A                           803      
0000174A  123C 0024                804      MOVE.B  #HEX,D1
0000174E  103C 0006                805      MOVE.B  #6,D0
00001752  4E4F                     806      TRAP    #15
00001754                           807      
00001754  1212                     808      MOVE.B  (A2),D1
00001756  C2BC 000000FF            809      AND.L   #$000000FF,D1
0000175C  103C 000F                810      MOVE.B  #15,D0
00001760  4E4F                     811      TRAP    #15
00001762                           812      
00001762  534A                     813      SUBQ    #1,A2
00001764                           814  
00001764  6000 004E                815      BRA     DISPLAY_DEST
00001768                           816  
00001768                           817  DISPLAY_DATA_SRC_WORD
00001768  544A                     818      ADDQ    #2,A2
0000176A                           819  
0000176A  123C 0023                820      MOVE.B  #NUM,D1
0000176E  103C 0006                821      MOVE.B  #6,D0
00001772  4E4F                     822      TRAP    #15
00001774                           823      
00001774  123C 0024                824      MOVE.B  #HEX,D1
00001778  103C 0006                825      MOVE.B  #6,D0
0000177C  4E4F                     826      TRAP    #15
0000177E                           827      
0000177E  3212                     828      MOVE.W  (A2),D1
00001780  C2BC 0000FFFF            829      AND.L   #$0000FFFF,D1
00001786  103C 000F                830      MOVE.B  #15,D0
0000178A  4E4F                     831      TRAP    #15
0000178C                           832  
0000178C  6000 0026                833      BRA     DISPLAY_DEST
00001790                           834      
00001790                           835  DISPLAY_DATA_SRC_LONG
00001790  544A                     836      ADDQ    #2,A2
00001792                           837      
00001792  123C 0023                838      MOVE.B  #NUM,D1
00001796  103C 0006                839      MOVE.B  #6,D0
0000179A  4E4F                     840      TRAP    #15
0000179C                           841      
0000179C  123C 0024                842      MOVE.B  #HEX,D1
000017A0  103C 0006                843      MOVE.B  #6,D0
000017A4  4E4F                     844      TRAP    #15
000017A6                           845      
000017A6  2212                     846      MOVE.L  (A2),D1
000017A8  103C 000F                847      MOVE.B  #15,D0
000017AC  4E4F                     848      TRAP    #15
000017AE                           849      
000017AE  544A                     850      ADDQ    #2,A2
000017B0                           851      
000017B0  6000 0002                852      BRA     DISPLAY_DEST
000017B4                           853      
000017B4                           854  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000017B4                           855  
000017B4                           856  DISPLAY_DEST
000017B4  123C 002C                857      MOVE.B  #COMMA,D1
000017B8  103C 0006                858      MOVE.B  #6,D0
000017BC  4E4F                     859      TRAP    #15
000017BE                           860  
000017BE  BAFC 0000                861      CMP.W   #%000,A5
000017C2  6700 002E                862      BEQ     DISPLAY_Dn_DEST
000017C6                           863      
000017C6  BAFC 0001                864      CMP.W   #%001,A5
000017CA  6700 0040                865      BEQ     DISPLAY_An_DEST
000017CE                           866      
000017CE  BAFC 0002                867      CMP.W   #%010,A5
000017D2  6700 0052                868      BEQ     DISPLAY_AT_An_DEST
000017D6                           869      
000017D6  BAFC 0003                870      CMP.W   #%011,A5
000017DA  6700 0078                871      BEQ     DISPLAY_AT_An_INCREMENT_DEST
000017DE                           872      
000017DE  BAFC 0004                873      CMP.W   #%100,A5
000017E2  6700 00A8                874      BEQ     DISPLAY_AT_An_DECREMENT_DEST
000017E6                           875      
000017E6  BAFC 0007                876      CMP.W   #%111,A5
000017EA  6700 00D8                877      BEQ     DISPLAY_ADDRESS_OR_DATA_DEST
000017EE                           878      
000017EE  6000 F8C2                879      BRA     IF_INVALID_OP
000017F2                           880  
000017F2                           881  DISPLAY_Dn_DEST
000017F2  123C 0044                882      MOVE.B  #D,D1
000017F6  103C 0006                883      MOVE.B  #6,D0
000017FA  4E4F                     884      TRAP    #15
000017FC                           885      
000017FC  143C 0010                886      MOVE.B  #16,D2
00001800  103C 000F                887      MOVE.B  #15,D0
00001804  220C                     888      MOVE.L  A4,D1
00001806  4E4F                     889      TRAP    #15
00001808                           890      
00001808  6000 F8B8                891      BRA     ITERATE
0000180C                           892  
0000180C                           893  DISPLAY_An_DEST
0000180C  123C 0041                894      MOVE.B  #A,D1
00001810  103C 0006                895      MOVE.B  #6,D0
00001814  4E4F                     896      TRAP    #15
00001816                           897      
00001816  143C 0010                898      MOVE.B  #16,D2
0000181A  103C 000F                899      MOVE.B  #15,D0
0000181E  220C                     900      MOVE.L  A4,D1
00001820  4E4F                     901      TRAP    #15
00001822                           902  
00001822  6000 F89E                903      BRA     ITERATE
00001826                           904  
00001826                           905  DISPLAY_AT_An_DEST
00001826  123C 0028                906      MOVE.B  #LEFT_PAR,D1
0000182A  103C 0006                907      MOVE.B  #6,D0
0000182E  4E4F                     908      TRAP    #15
00001830                           909  
00001830  123C 0041                910      MOVE.B  #A,D1
00001834  103C 0006                911      MOVE.B  #6,D0
00001838  4E4F                     912      TRAP    #15
0000183A                           913      
0000183A  143C 0010                914      MOVE.B  #16,D2
0000183E  103C 000F                915      MOVE.B  #15,D0
00001842  220C                     916      MOVE.L  A4,D1
00001844  4E4F                     917      TRAP    #15
00001846                           918      
00001846  123C 0029                919      MOVE.B  #RIGHT_PAR,D1
0000184A  103C 0006                920      MOVE.B  #6,D0
0000184E  4E4F                     921      TRAP    #15
00001850                           922  
00001850  6000 F870                923      BRA     ITERATE
00001854                           924  
00001854                           925  DISPLAY_AT_An_INCREMENT_DEST
00001854  123C 0028                926      MOVE.B  #LEFT_PAR,D1
00001858  103C 0006                927      MOVE.B  #6,D0
0000185C  4E4F                     928      TRAP    #15
0000185E                           929  
0000185E  123C 0041                930      MOVE.B  #A,D1
00001862  103C 0006                931      MOVE.B  #6,D0
00001866  4E4F                     932      TRAP    #15
00001868                           933      
00001868  143C 0010                934      MOVE.B  #16,D2
0000186C  103C 000F                935      MOVE.B  #15,D0
00001870  220C                     936      MOVE.L  A4,D1
00001872  4E4F                     937      TRAP    #15
00001874                           938      
00001874  123C 0029                939      MOVE.B  #RIGHT_PAR,D1
00001878  103C 0006                940      MOVE.B  #6,D0
0000187C  4E4F                     941      TRAP    #15
0000187E                           942      
0000187E  123C 002B                943      MOVE.B  #PLUS,D1
00001882  103C 0006                944      MOVE.B  #6,D0
00001886  4E4F                     945      TRAP    #15
00001888                           946      
00001888  6000 F838                947      BRA     ITERATE
0000188C                           948  
0000188C                           949  DISPLAY_AT_An_DECREMENT_DEST
0000188C  123C 002D                950      MOVE.B  #MINUS,D1
00001890  103C 0006                951      MOVE.B  #6,D0
00001894  4E4F                     952      TRAP    #15
00001896                           953  
00001896  123C 0028                954      MOVE.B  #LEFT_PAR,D1
0000189A  103C 0006                955      MOVE.B  #6,D0
0000189E  4E4F                     956      TRAP    #15
000018A0                           957  
000018A0  123C 0041                958      MOVE.B  #A,D1
000018A4  103C 0006                959      MOVE.B  #6,D0
000018A8  4E4F                     960      TRAP    #15
000018AA                           961      
000018AA  143C 0010                962      MOVE.B  #16,D2
000018AE  103C 000F                963      MOVE.B  #15,D0
000018B2  220C                     964      MOVE.L  A4,D1
000018B4  4E4F                     965      TRAP    #15
000018B6                           966      
000018B6  123C 0029                967      MOVE.B  #RIGHT_PAR,D1
000018BA  103C 0006                968      MOVE.B  #6,D0
000018BE  4E4F                     969      TRAP    #15
000018C0                           970  
000018C0  6000 F800                971      BRA     ITERATE
000018C4                           972  
000018C4                           973  DISPLAY_ADDRESS_OR_DATA_DEST
000018C4  B8FC 0000                974      CMP.W   #%000,A4
000018C8  6700 000E                975      BEQ     DISPLAY_ADDRESS_WORD_DEST
000018CC                           976      
000018CC  B8FC 0001                977      CMP.W   #%001,A4
000018D0  6700 0024                978      BEQ     DISPLAY_ADDRESS_LONG_DEST
000018D4                           979  
000018D4  6000 F7DC                980      BRA     IF_INVALID_OP
000018D8                           981  
000018D8                           982  DISPLAY_ADDRESS_WORD_DEST
000018D8  544A                     983      ADDQ    #2,A2
000018DA                           984      
000018DA  123C 0024                985      MOVE.B  #HEX,D1
000018DE  103C 0006                986      MOVE.B  #6,D0
000018E2  4E4F                     987      TRAP    #15
000018E4                           988      
000018E4  3212                     989      MOVE.W  (A2),D1
000018E6  C2BC 0000FFFF            990      AND.L   #$0000FFFF,D1
000018EC  103C 000F                991      MOVE.B  #15,D0
000018F0  4E4F                     992      TRAP    #15
000018F2                           993      
000018F2  6000 F7CE                994      BRA     ITERATE
000018F6                           995  
000018F6                           996  DISPLAY_ADDRESS_LONG_DEST
000018F6  544A                     997      ADDQ    #2,A2
000018F8                           998      
000018F8  123C 0024                999      MOVE.B  #HEX,D1
000018FC  103C 0006               1000      MOVE.B  #6,D0
00001900  4E4F                    1001      TRAP    #15
00001902                          1002      
00001902  2212                    1003      MOVE.L  (A2),D1
00001904  103C 000F               1004      MOVE.B  #15,D0
00001908  4E4F                    1005      TRAP    #15
0000190A                          1006      
0000190A  544A                    1007      ADDQ    #2,A2
0000190C                          1008  
0000190C  6000 F7B4               1009      BRA     ITERATE
00001910                          1010  
00001910                          1011  
00001910                          1012  
00001910                          1013  
00001910                          1014  
00001910                          1015  
00001910                          1016  -------------------- end include --------------------
00001910                          1017          INCLUDE ADD_ADDA.X68
00001910                          1018  
00002000                          1019      ORG     $2000
00002000                          1020      
00002000                          1021  IF_ADD_ADDA
00002000  360C                    1022      MOVE.W  A4,D3
00002002                          1023      
00002002                          1024      ;Get the register
00002002  C67C 0FFF               1025      AND.W   #$0FFF,D3
00002006  E743                    1026      ASL.W   #3,D3
00002008  3803                    1027      MOVE.W  D3,D4
0000200A  C8BC 0000F000           1028      AND.L   #$0000F000,D4
00002010  E95C                    1029      ROL.W   #4,D4
00002012  2844                    1030      MOVE.L  D4,A4 ;register
00002014                          1031  
00002014                          1032      ;Get the opmode
00002014  C67C 0FFF               1033      AND.W   #$0FFF,D3
00002018  E743                    1034      ASL.W   #3,D3
0000201A  3803                    1035      MOVE.W  D3,D4
0000201C  C8BC 0000F000           1036      AND.L   #$0000F000,D4
00002022  E95C                    1037      ROL.W   #4,D4
00002024  2A44                    1038      MOVE.L  D4,A5 ;opmode
00002026                          1039  
00002026                          1040      ;Get the effective mode 
00002026  C67C 0FFF               1041      AND.W   #$0FFF,D3
0000202A  E743                    1042      ASL.W   #3,D3
0000202C  3803                    1043      MOVE.W  D3,D4
0000202E  C8BC 0000F000           1044      AND.L   #$0000F000,D4
00002034  E95C                    1045      ROL.W   #4,D4
00002036  2C44                    1046      MOVE.L  D4,A6 ;effective mode
00002038                          1047      
00002038                          1048      ;Get the effective register
00002038  C67C 0FFF               1049      AND.W   #$0FFF,D3
0000203C  E743                    1050      ASL.W   #3,D3
0000203E  3803                    1051      MOVE.W  D3,D4
00002040  C8BC 0000F000           1052      AND.L   #$0000F000,D4
00002046  E95C                    1053      ROL.W   #4,D4 ;effective register
00002048                          1054      
00002048  143C 0010               1055      MOVE.B  #16,D2
0000204C  103C 000F               1056      MOVE.B  #15,D0
00002050                          1057      
00002050  6000 0002               1058      BRA     DISPLAY_ADD_ADDA
00002054                          1059      
00002054                          1060  DISPLAY_ADD_ADDA
00002054  BAFC 0003               1061      CMP.W   #%011,A5
00002058  6700 000E               1062      BEQ     DISPLAY_ADDA_W
0000205C                          1063      
0000205C  BAFC 0007               1064      CMP.W   #%111,A5
00002060  6700 0026               1065      BEQ     DISPLAY_ADDA_L
00002064                          1066      
00002064  6000 020E               1067      BRA     DISPLAY_ADD
00002068                          1068  
00002068                          1069  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00002068                          1070  
00002068                          1071  DISPLAY_ADDA_W
00002068  43F9 000010FB           1072      LEA     ADDA_OUTPUT,A1
0000206E  103C 000E               1073      MOVE.B  #14,D0
00002072  4E4F                    1074      TRAP    #15
00002074                          1075  
00002074  43F9 0000112F           1076      LEA     W_OUTPUT,A1
0000207A  103C 000E               1077      MOVE.B  #14,D0
0000207E  4E4F                    1078      TRAP    #15
00002080                          1079      
00002080  6100 0026               1080      BSR     GET_EFFECTIVE_ADDRESS_ea
00002084  6000 01CA               1081      BRA     DISPLAY_ADDA_REGISTER
00002088                          1082  
00002088                          1083  DISPLAY_ADDA_L
00002088  43F9 000010FB           1084      LEA     ADDA_OUTPUT,A1
0000208E  103C 000E               1085      MOVE.B  #14,D0
00002092  4E4F                    1086      TRAP    #15
00002094                          1087      
00002094  43F9 00001133           1088      LEA     L_OUTPUT,A1
0000209A  103C 000E               1089      MOVE.B  #14,D0
0000209E  4E4F                    1090      TRAP    #15
000020A0                          1091      
000020A0  6100 0006               1092      BSR     GET_EFFECTIVE_ADDRESS_ea
000020A4  6000 01AA               1093      BRA     DISPLAY_ADDA_REGISTER
000020A8                          1094      
000020A8                          1095  ;subroutine;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000020A8                          1096  GET_EFFECTIVE_ADDRESS_ea
000020A8  BCFC 0000               1097      CMP.W   #%000,A6
000020AC  6700 002E               1098      BEQ     DISPLAY_Dn_ea
000020B0                          1099      
000020B0  BCFC 0001               1100      CMP.W   #%001,A6
000020B4  6700 003E               1101      BEQ     DISPLAY_An_ea
000020B8                          1102      
000020B8  BCFC 0002               1103      CMP.W   #%010,A6
000020BC  6700 004E               1104      BEQ     DISPLAY_An_ADDRESS_ea
000020C0                          1105      
000020C0  BCFC 0003               1106      CMP.W   #%011,A6
000020C4  6700 0072               1107      BEQ     DISPLAY_An_ADDRESS_INCREMENT_ea
000020C8                          1108      
000020C8  BCFC 0004               1109      CMP.W   #%100,A6
000020CC  6700 00A0               1110      BEQ     DISPLAY_An_ADDRESS_DECREMENT_ea
000020D0                          1111      
000020D0  BCFC 0007               1112      CMP.W   #%111,A6
000020D4  6700 00CE               1113      BEQ     DISPLAY_ADDRESS_OR_DATA_ea
000020D8                          1114      
000020D8  6000 EFD8               1115      BRA     IF_INVALID_OP
000020DC                          1116  
000020DC                          1117  DISPLAY_Dn_ea
000020DC  123C 0044               1118      MOVE.B  #D,D1
000020E0  103C 0006               1119      MOVE.B  #6,D0
000020E4  4E4F                    1120      TRAP    #15
000020E6                          1121      
000020E6  143C 0010               1122      MOVE.B  #16,D2
000020EA  103C 000F               1123      MOVE.B  #15,D0
000020EE  2204                    1124      MOVE.L  D4,D1
000020F0  4E4F                    1125      TRAP    #15
000020F2                          1126      
000020F2  4E75                    1127      RTS
000020F4                          1128  
000020F4                          1129  DISPLAY_An_ea
000020F4  123C 0041               1130      MOVE.B  #A,D1
000020F8  103C 0006               1131      MOVE.B  #6,D0
000020FC  4E4F                    1132      TRAP    #15
000020FE                          1133      
000020FE  143C 0010               1134      MOVE.B  #16,D2
00002102  103C 000F               1135      MOVE.B  #15,D0
00002106  2204                    1136      MOVE.L  D4,D1
00002108                          1137      
00002108  4E4F                    1138      TRAP    #15
0000210A                          1139      
0000210A  4E75                    1140      RTS
0000210C                          1141  
0000210C                          1142  DISPLAY_An_ADDRESS_ea
0000210C  123C 0028               1143      MOVE.B  #LEFT_PAR,D1
00002110  103C 0006               1144      MOVE.B  #6,D0
00002114  4E4F                    1145      TRAP    #15
00002116                          1146  
00002116  123C 0041               1147      MOVE.B  #A,D1
0000211A  103C 0006               1148      MOVE.B  #6,D0
0000211E  4E4F                    1149      TRAP    #15
00002120                          1150      
00002120  143C 0010               1151      MOVE.B  #16,D2
00002124  103C 000F               1152      MOVE.B  #15,D0
00002128  2204                    1153      MOVE.L  D4,D1
0000212A                          1154      
0000212A  4E4F                    1155      TRAP    #15
0000212C                          1156      
0000212C  123C 0029               1157      MOVE.B  #RIGHT_PAR,D1
00002130  103C 0006               1158      MOVE.B  #6,D0
00002134  4E4F                    1159      TRAP    #15
00002136                          1160      
00002136  4E75                    1161      RTS
00002138                          1162  
00002138                          1163  DISPLAY_An_ADDRESS_INCREMENT_ea
00002138  123C 0028               1164      MOVE.B  #LEFT_PAR,D1
0000213C  103C 0006               1165      MOVE.B  #6,D0
00002140  4E4F                    1166      TRAP    #15
00002142                          1167  
00002142  123C 0041               1168      MOVE.B  #A,D1
00002146  103C 0006               1169      MOVE.B  #6,D0
0000214A  4E4F                    1170      TRAP    #15
0000214C                          1171      
0000214C  143C 0010               1172      MOVE.B  #16,D2
00002150  103C 000F               1173      MOVE.B  #15,D0
00002154  2204                    1174      MOVE.L  D4,D1
00002156                          1175      
00002156  4E4F                    1176      TRAP    #15
00002158                          1177      
00002158  123C 0029               1178      MOVE.B  #RIGHT_PAR,D1
0000215C  103C 0006               1179      MOVE.B  #6,D0
00002160  4E4F                    1180      TRAP    #15
00002162                          1181      
00002162  123C 002B               1182      MOVE.B  #PLUS,D1
00002166  103C 0006               1183      MOVE.B  #6,D0
0000216A  4E4F                    1184      TRAP    #15
0000216C                          1185      
0000216C  4E75                    1186      RTS
0000216E                          1187  
0000216E                          1188  DISPLAY_An_ADDRESS_DECREMENT_ea
0000216E  123C 002D               1189      MOVE.B  #MINUS,D1
00002172  103C 0006               1190      MOVE.B  #6,D0
00002176  4E4F                    1191      TRAP    #15
00002178                          1192  
00002178  123C 0028               1193      MOVE.B  #LEFT_PAR,D1
0000217C  103C 0006               1194      MOVE.B  #6,D0
00002180  4E4F                    1195      TRAP    #15
00002182                          1196  
00002182  123C 0041               1197      MOVE.B  #A,D1
00002186  103C 0006               1198      MOVE.B  #6,D0
0000218A  4E4F                    1199      TRAP    #15
0000218C                          1200      
0000218C  143C 0010               1201      MOVE.B  #16,D2
00002190  103C 000F               1202      MOVE.B  #15,D0
00002194  2204                    1203      MOVE.L  D4,D1
00002196                          1204      
00002196  4E4F                    1205      TRAP    #15
00002198                          1206      
00002198  123C 0029               1207      MOVE.B  #RIGHT_PAR,D1
0000219C  103C 0006               1208      MOVE.B  #6,D0
000021A0  4E4F                    1209      TRAP    #15
000021A2                          1210      
000021A2  4E75                    1211      RTS
000021A4                          1212  
000021A4                          1213  DISPLAY_ADDRESS_OR_DATA_ea
000021A4  B87C 0000               1214      CMP.W   #%000,D4
000021A8  6700 0016               1215      BEQ     DISPLAY_ADDRESS_WORD_ea
000021AC                          1216      
000021AC  B87C 0001               1217      CMP.W   #%001,D4
000021B0  6700 002A               1218      BEQ     DISPLAY_ADDRESS_LONG_ea
000021B4                          1219      
000021B4  B87C 0004               1220      CMP.W   #%100,D4
000021B8  6700 003A               1221      BEQ     DISPLAY_DATA_ea
000021BC                          1222      
000021BC  6000 EEF4               1223      BRA     IF_INVALID_OP
000021C0                          1224      
000021C0                          1225  DISPLAY_ADDRESS_WORD_ea
000021C0  544A                    1226      ADDQ    #2,A2
000021C2                          1227      
000021C2  123C 0024               1228      MOVE.B  #HEX,D1
000021C6  103C 0006               1229      MOVE.B  #6,D0
000021CA  4E4F                    1230      TRAP    #15
000021CC                          1231      
000021CC  3212                    1232      MOVE.W  (A2),D1
000021CE  C2BC 0000FFFF           1233      AND.L   #$0000FFFF,D1
000021D4  103C 000F               1234      MOVE.B  #15,D0
000021D8  4E4F                    1235      TRAP    #15
000021DA                          1236      
000021DA  4E75                    1237      RTS
000021DC                          1238  
000021DC                          1239  DISPLAY_ADDRESS_LONG_ea
000021DC  544A                    1240      ADDQ    #2,A2
000021DE                          1241      
000021DE  123C 0024               1242      MOVE.B  #HEX,D1
000021E2  103C 0006               1243      MOVE.B  #6,D0
000021E6  4E4F                    1244      TRAP    #15
000021E8                          1245      
000021E8  2212                    1246      MOVE.L  (A2),D1
000021EA  103C 000F               1247      MOVE.B  #15,D0
000021EE  4E4F                    1248      TRAP    #15
000021F0                          1249      
000021F0  544A                    1250      ADDQ    #2,A2
000021F2                          1251      
000021F2  4E75                    1252      RTS
000021F4                          1253      
000021F4                          1254  DISPLAY_DATA_ea
000021F4  BAFC 0003               1255      CMP.W   #%011,A5
000021F8  6700 000E               1256      BEQ     DISPLAY_DATA_WORD_ea
000021FC                          1257      
000021FC  BAFC 0007               1258      CMP.W   #%111,A5
00002200  6700 002C               1259      BEQ     DISPLAY_DATA_LONG_ea
00002204                          1260  
00002204  6000 EEAC               1261      BRA     IF_INVALID_OP
00002208                          1262  
00002208                          1263  DISPLAY_DATA_WORD_ea
00002208  544A                    1264      ADDQ    #2,A2
0000220A                          1265      
0000220A  123C 0023               1266      MOVE.B  #NUM,D1
0000220E  103C 0006               1267      MOVE.B  #6,D0
00002212  4E4F                    1268      TRAP    #15
00002214                          1269      
00002214  123C 0024               1270      MOVE.B  #HEX,D1
00002218  103C 0006               1271      MOVE.B  #6,D0
0000221C  4E4F                    1272      TRAP    #15
0000221E                          1273      
0000221E  3212                    1274      MOVE.W  (A2),D1
00002220  C2BC 0000FFFF           1275      AND.L   #$0000FFFF,D1
00002226  103C 000F               1276      MOVE.B  #15,D0
0000222A  4E4F                    1277      TRAP    #15
0000222C  4E75                    1278      RTS
0000222E                          1279      
0000222E                          1280  DISPLAY_DATA_LONG_ea
0000222E  544A                    1281      ADDQ    #2,A2
00002230                          1282      
00002230  123C 0023               1283      MOVE.B  #NUM,D1
00002234  103C 0006               1284      MOVE.B  #6,D0
00002238  4E4F                    1285      TRAP    #15
0000223A                          1286      
0000223A  123C 0024               1287      MOVE.B  #HEX,D1
0000223E  103C 0006               1288      MOVE.B  #6,D0
00002242  4E4F                    1289      TRAP    #15
00002244                          1290      
00002244  2212                    1291      MOVE.L  (A2),D1
00002246  103C 000F               1292      MOVE.B  #15,D0
0000224A  4E4F                    1293      TRAP    #15
0000224C                          1294      
0000224C  544A                    1295      ADDQ    #2,A2
0000224E                          1296      
0000224E  4E75                    1297      RTS
00002250                          1298  
00002250                          1299  
00002250                          1300  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00002250                          1301   
00002250                          1302  DISPLAY_ADDA_REGISTER
00002250  123C 002C               1303      MOVE.B  #COMMA,D1
00002254  103C 0006               1304      MOVE.B  #6,D0
00002258  4E4F                    1305      TRAP    #15
0000225A                          1306  
0000225A  123C 0041               1307      MOVE.B  #A,D1
0000225E  103C 0006               1308      MOVE.B  #6,D0
00002262  4E4F                    1309      TRAP    #15
00002264                          1310      
00002264  143C 0010               1311      MOVE.B  #16,D2
00002268  103C 000F               1312      MOVE.B  #15,D0
0000226C  220C                    1313      MOVE.L  A4,D1
0000226E  4E4F                    1314      TRAP    #15
00002270                          1315      
00002270  6000 EE50               1316      BRA     ITERATE
00002274                          1317      
00002274                          1318  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00002274                          1319      
00002274                          1320  
00002274                          1321  DISPLAY_ADD
00002274  43F9 00001100           1322      LEA     ADD_OUTPUT,A1
0000227A  103C 000E               1323      MOVE.B  #14,D0
0000227E  4E4F                    1324      TRAP    #15
00002280                          1325      
00002280  6000 0002               1326      BRA     DISPLAY_ARGS
00002284                          1327      
00002284                          1328  DISPLAY_ARGS    
00002284                          1329      
00002284  BAFC 0000               1330      CMP.W   #%000,A5
00002288  6700 002E               1331      BEQ     DISPLAY_BYTE_SRC
0000228C                          1332      
0000228C  BAFC 0001               1333      CMP.W   #%001,A5
00002290  6700 0048               1334      BEQ     DISPLAY_WORD_SRC
00002294                          1335      
00002294  BAFC 0002               1336      CMP.W   #%010,A5
00002298  6700 0062               1337      BEQ     DISPLAY_LONG_SRC
0000229C                          1338      
0000229C  BAFC 0004               1339      CMP.W   #%100,A5
000022A0  6700 007C               1340      BEQ     DISPLAY_BYTE_DEST
000022A4                          1341      
000022A4  BAFC 0005               1342      CMP.W   #%101,A5
000022A8  6700 0096               1343      BEQ     DISPLAY_WORD_DEST
000022AC                          1344      
000022AC  BAFC 0006               1345      CMP.W   #%110,A5
000022B0  6700 00B0               1346      BEQ     DISPLAY_LONG_DEST
000022B4                          1347      
000022B4  6000 EDFC               1348      BRA     IF_INVALID_OP   
000022B8                          1349      
000022B8                          1350  DISPLAY_BYTE_SRC
000022B8  43F9 0000112B           1351      LEA     B_OUTPUT,A1
000022BE  103C 000E               1352      MOVE.B  #14,D0
000022C2  4E4F                    1353      TRAP    #15
000022C4                          1354  
000022C4  6100 FDE2               1355      BSR     GET_EFFECTIVE_ADDRESS_ea
000022C8                          1356      
000022C8  123C 002C               1357      MOVE.B  #COMMA,D1
000022CC  103C 0006               1358      MOVE.B  #6,D0
000022D0  4E4F                    1359      TRAP    #15
000022D2                          1360      
000022D2  6100 00B0               1361      BSR     DISPLAY_Dn_ADD
000022D6                          1362      
000022D6  6000 EDEA               1363      BRA     ITERATE
000022DA                          1364  
000022DA                          1365  DISPLAY_WORD_SRC
000022DA  43F9 0000112F           1366      LEA     W_OUTPUT,A1
000022E0  103C 000E               1367      MOVE.B  #14,D0
000022E4  4E4F                    1368      TRAP    #15
000022E6                          1369  
000022E6  6100 FDC0               1370      BSR     GET_EFFECTIVE_ADDRESS_ea
000022EA                          1371  
000022EA  123C 002C               1372      MOVE.B  #COMMA,D1
000022EE  103C 0006               1373      MOVE.B  #6,D0
000022F2  4E4F                    1374      TRAP    #15    
000022F4                          1375  
000022F4  6100 008E               1376      BSR     DISPLAY_Dn_ADD
000022F8                          1377      
000022F8  6000 EDC8               1378      BRA     ITERATE
000022FC                          1379  
000022FC                          1380  DISPLAY_LONG_SRC
000022FC  43F9 00001133           1381      LEA     L_OUTPUT,A1
00002302  103C 000E               1382      MOVE.B  #14,D0
00002306  4E4F                    1383      TRAP    #15
00002308                          1384  
00002308  6100 FD9E               1385      BSR     GET_EFFECTIVE_ADDRESS_ea
0000230C                          1386  
0000230C  123C 002C               1387      MOVE.B  #COMMA,D1
00002310  103C 0006               1388      MOVE.B  #6,D0
00002314  4E4F                    1389      TRAP    #15    
00002316                          1390  
00002316  6100 006C               1391      BSR     DISPLAY_Dn_ADD
0000231A                          1392      
0000231A  6000 EDA6               1393      BRA     ITERATE
0000231E                          1394  
0000231E                          1395  DISPLAY_BYTE_DEST
0000231E  43F9 0000112B           1396      LEA     B_OUTPUT,A1
00002324  103C 000E               1397      MOVE.B  #14,D0
00002328  4E4F                    1398      TRAP    #15
0000232A                          1399  
0000232A  6100 0058               1400      BSR     DISPLAY_Dn_ADD
0000232E                          1401      
0000232E  123C 002C               1402      MOVE.B  #COMMA,D1
00002332  103C 0006               1403      MOVE.B  #6,D0
00002336  4E4F                    1404      TRAP    #15    
00002338                          1405  
00002338  6100 0062               1406      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
0000233C                          1407      
0000233C  6000 ED84               1408      BRA     ITERATE
00002340                          1409  
00002340                          1410  DISPLAY_WORD_DEST
00002340  43F9 0000112F           1411      LEA     W_OUTPUT,A1
00002346  103C 000E               1412      MOVE.B  #14,D0
0000234A  4E4F                    1413      TRAP    #15
0000234C                          1414  
0000234C  6100 0036               1415      BSR     DISPLAY_Dn_ADD
00002350                          1416      
00002350  123C 002C               1417      MOVE.B  #COMMA,D1
00002354  103C 0006               1418      MOVE.B  #6,D0
00002358  4E4F                    1419      TRAP    #15    
0000235A                          1420  
0000235A  6100 0040               1421      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
0000235E                          1422      
0000235E  6000 ED62               1423      BRA     ITERATE
00002362                          1424  
00002362                          1425  DISPLAY_LONG_DEST
00002362  43F9 00001133           1426      LEA     L_OUTPUT,A1
00002368  103C 000E               1427      MOVE.B  #14,D0
0000236C  4E4F                    1428      TRAP    #15
0000236E                          1429  
0000236E  6100 0014               1430      BSR     DISPLAY_Dn_ADD
00002372                          1431      
00002372  123C 002C               1432      MOVE.B  #COMMA,D1
00002376  103C 0006               1433      MOVE.B  #6,D0
0000237A  4E4F                    1434      TRAP    #15    
0000237C                          1435  
0000237C  6100 001E               1436      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
00002380                          1437      
00002380  6000 ED40               1438      BRA     ITERATE
00002384                          1439      
00002384                          1440  DISPLAY_Dn_ADD
00002384  123C 0044               1441      MOVE.B  #D,D1
00002388  103C 0006               1442      MOVE.B  #6,D0
0000238C  4E4F                    1443      TRAP    #15
0000238E                          1444      
0000238E  143C 0010               1445      MOVE.B  #16,D2
00002392  103C 000F               1446      MOVE.B  #15,D0
00002396  220C                    1447      MOVE.L  A4,D1
00002398  4E4F                    1448      TRAP    #15
0000239A                          1449      
0000239A  4E75                    1450      RTS
0000239C                          1451  
0000239C                          1452  ;subroutine;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0000239C                          1453  GET_EFFECTIVE_ADDRESS_ea_DEST   
0000239C  BCFC 0002               1454      CMP.W   #%010,A6
000023A0  6700 FD6A               1455      BEQ     DISPLAY_An_ADDRESS_ea
000023A4                          1456      
000023A4  BCFC 0003               1457      CMP.W   #%011,A6
000023A8  6700 FD8E               1458      BEQ     DISPLAY_An_ADDRESS_INCREMENT_ea
000023AC                          1459      
000023AC  BCFC 0004               1460      CMP.W   #%100,A6
000023B0  6700 FDBC               1461      BEQ     DISPLAY_An_ADDRESS_DECREMENT_ea
000023B4                          1462      
000023B4  BCFC 0007               1463      CMP.W   #%111,A6
000023B8  6700 FDEA               1464      BEQ     DISPLAY_ADDRESS_OR_DATA_ea
000023BC                          1465      
000023BC  6000 ECF4               1466      BRA     IF_INVALID_OP
000023C0                          1467  
000023C0                          1468  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000023C0                          1469  
000023C0                          1470      
000023C0                          1471      
000023C0                          1472  
000023C0                          1473  
000023C0                          1474  -------------------- end include --------------------
000023C0                          1475          INCLUDE SUB.X68
00003000                          1476      ORG    $3000
00003000                          1477  
00003000                          1478  IF_SUB 
00003000  360C                    1479      MOVE.W  A4,D3
00003002                          1480      
00003002                          1481      ;Get the register
00003002  C67C 0FFF               1482      AND.W   #$0FFF,D3
00003006  E743                    1483      ASL.W   #3,D3
00003008  3803                    1484      MOVE.W  D3,D4
0000300A  C8BC 0000F000           1485      AND.L   #$0000F000,D4
00003010  E95C                    1486      ROL.W   #4,D4
00003012  2844                    1487      MOVE.L  D4,A4 ;register
00003014                          1488  
00003014                          1489      ;Get the opmode
00003014  C67C 0FFF               1490      AND.W   #$0FFF,D3
00003018  E743                    1491      ASL.W   #3,D3
0000301A  3803                    1492      MOVE.W  D3,D4
0000301C  C8BC 0000F000           1493      AND.L   #$0000F000,D4
00003022  E95C                    1494      ROL.W   #4,D4
00003024  2A44                    1495      MOVE.L  D4,A5 ;opmode
00003026                          1496  
00003026                          1497      ;Get the effective mode 
00003026  C67C 0FFF               1498      AND.W   #$0FFF,D3
0000302A  E743                    1499      ASL.W   #3,D3
0000302C  3803                    1500      MOVE.W  D3,D4
0000302E  C8BC 0000F000           1501      AND.L   #$0000F000,D4
00003034  E95C                    1502      ROL.W   #4,D4
00003036  2C44                    1503      MOVE.L  D4,A6 ;effective mode
00003038                          1504      
00003038                          1505      ;Get the effective register
00003038  C67C 0FFF               1506      AND.W   #$0FFF,D3
0000303C  E743                    1507      ASL.W   #3,D3
0000303E  3803                    1508      MOVE.W  D3,D4
00003040  C8BC 0000F000           1509      AND.L   #$0000F000,D4
00003046  E95C                    1510      ROL.W   #4,D4 ;effective register
00003048                          1511      
00003048  143C 0010               1512      MOVE.B  #16,D2
0000304C  103C 000F               1513      MOVE.B  #15,D0
00003050                          1514      
00003050  6000 0002               1515      BRA     DISPLAY_SUB
00003054                          1516      
00003054                          1517  DISPLAY_SUB
00003054  43F9 00001104           1518      LEA     SUB_OUTPUT,A1
0000305A  103C 000E               1519      MOVE.B  #14,D0
0000305E  4E4F                    1520      TRAP    #15
00003060                          1521      
00003060  6000 F222               1522      BRA     DISPLAY_ARGS
00003064                          1523  
00003064                          1524  -------------------- end include --------------------
00003064                          1525          INCLUDE ADDQ.X68
00002500                          1526      ORG    $2500
00002500                          1527  
00002500                          1528  IF_ADDQ 
00002500  360C                    1529      MOVE.W  A4,D3
00002502                          1530      
00002502                          1531      ;Get the register
00002502  C67C 0FFF               1532      AND.W   #$0FFF,D3
00002506  E743                    1533      ASL.W   #3,D3
00002508  3803                    1534      MOVE.W  D3,D4
0000250A  C8BC 0000F000           1535      AND.L   #$0000F000,D4
00002510  E95C                    1536      ROL.W   #4,D4
00002512  2844                    1537      MOVE.L  D4,A4 ;data
00002514                          1538  
00002514                          1539      ;Get the opmode
00002514  C67C 0FFF               1540      AND.W   #$0FFF,D3
00002518  E743                    1541      ASL.W   #3,D3
0000251A  3803                    1542      MOVE.W  D3,D4
0000251C  C8BC 0000F000           1543      AND.L   #$0000F000,D4
00002522  E95C                    1544      ROL.W   #4,D4
00002524  2A44                    1545      MOVE.L  D4,A5 ;size
00002526                          1546  
00002526                          1547      ;Get the effective mode 
00002526  C67C 0FFF               1548      AND.W   #$0FFF,D3
0000252A  E743                    1549      ASL.W   #3,D3
0000252C  3803                    1550      MOVE.W  D3,D4
0000252E  C8BC 0000F000           1551      AND.L   #$0000F000,D4
00002534  E95C                    1552      ROL.W   #4,D4
00002536  2C44                    1553      MOVE.L  D4,A6 ;effective mode
00002538                          1554      
00002538                          1555      ;Get the effective register
00002538  C67C 0FFF               1556      AND.W   #$0FFF,D3
0000253C  E743                    1557      ASL.W   #3,D3
0000253E  3803                    1558      MOVE.W  D3,D4
00002540  C8BC 0000F000           1559      AND.L   #$0000F000,D4
00002546  E95C                    1560      ROL.W   #4,D4 ;effective register
00002548                          1561      
00002548  143C 0010               1562      MOVE.B  #16,D2
0000254C  103C 000F               1563      MOVE.B  #15,D0
00002550                          1564      
00002550  6000 0002               1565      BRA     DISPLAY_ADDQ
00002554                          1566      
00002554                          1567  DISPLAY_ADDQ
00002554  43F9 00001108           1568      LEA     ADDQ_OUTPUT,A1
0000255A  103C 000E               1569      MOVE.B  #14,D0
0000255E  4E4F                    1570      TRAP    #15
00002560                          1571  
00002560  6000 0002               1572      BRA     DISPLAY_ADDQ_SIZE
00002564                          1573  
00002564                          1574  DISPLAY_ADDQ_SIZE
00002564  BAFC 0000               1575      CMP.W   #%00,A5
00002568  6700 0016               1576      BEQ     DISPLAY_ADDQ_BYTE
0000256C                          1577      
0000256C  BAFC 0001               1578      CMP.W   #%01,A5
00002570  6700 001E               1579      BEQ     DISPLAY_ADDQ_WORD
00002574                          1580      
00002574  BAFC 0002               1581      CMP.W   #%10,A5
00002578  6700 0026               1582      BEQ     DISPLAY_ADDQ_LONG
0000257C                          1583      
0000257C  6000 EB34               1584      BRA     IF_INVALID_OP
00002580                          1585  
00002580                          1586  DISPLAY_ADDQ_BYTE
00002580  43F9 0000112B           1587      LEA     B_OUTPUT,A1
00002586  103C 000E               1588      MOVE.B  #14,D0
0000258A  4E4F                    1589      TRAP    #15
0000258C  6000 0022               1590      BRA     DISPLAY_ADDQ_COMMA
00002590                          1591  
00002590                          1592  DISPLAY_ADDQ_WORD
00002590  43F9 0000112F           1593      LEA     W_OUTPUT,A1
00002596  103C 000E               1594      MOVE.B  #14,D0
0000259A  4E4F                    1595      TRAP    #15
0000259C  6000 0012               1596      BRA     DISPLAY_ADDQ_COMMA
000025A0                          1597  
000025A0                          1598  DISPLAY_ADDQ_LONG
000025A0  43F9 00001133           1599      LEA     L_OUTPUT,A1
000025A6  103C 000E               1600      MOVE.B  #14,D0
000025AA  4E4F                    1601      TRAP    #15
000025AC  6000 0002               1602      BRA     DISPLAY_ADDQ_COMMA    
000025B0                          1603      
000025B0                          1604  DISPLAY_ADDQ_COMMA
000025B0  123C 0023               1605      MOVE.B  #NUM,D1
000025B4  103C 0006               1606      MOVE.B  #6,D0
000025B8  4E4F                    1607      TRAP    #15
000025BA                          1608      
000025BA  123C 0024               1609      MOVE.B  #HEX,D1
000025BE  103C 0006               1610      MOVE.B  #6,D0
000025C2  4E4F                    1611      TRAP    #15
000025C4                          1612  
000025C4  143C 0010               1613      MOVE.B  #16,D2
000025C8  103C 000F               1614      MOVE.B  #15,D0
000025CC  220C                    1615      MOVE.L  A4,D1
000025CE  4E4F                    1616      TRAP    #15
000025D0                          1617  
000025D0  123C 002C               1618      MOVE.B  #COMMA,D1
000025D4  103C 0006               1619      MOVE.B  #6,D0
000025D8  4E4F                    1620      TRAP    #15
000025DA                          1621      
000025DA  6100 FACC               1622      BSR     GET_EFFECTIVE_ADDRESS_ea
000025DE  6000 EAE2               1623      BRA     ITERATE
000025E2                          1624  
000025E2                          1625  ;subroutine;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000025E2                          1626  GET_EFFECTIVE_ADDRESS_ea_NO_DATA
000025E2  BCFC 0000               1627      CMP.W   #%000,A6
000025E6  6700 FAF4               1628      BEQ     DISPLAY_Dn_ea
000025EA                          1629      
000025EA  BCFC 0001               1630      CMP.W   #%001,A6
000025EE  6700 FB04               1631      BEQ     DISPLAY_An_ea
000025F2                          1632      
000025F2  BCFC 0002               1633      CMP.W   #%010,A6
000025F6  6700 FB14               1634      BEQ     DISPLAY_An_ADDRESS_ea
000025FA                          1635      
000025FA  BCFC 0003               1636      CMP.W   #%011,A6
000025FE  6700 FB38               1637      BEQ     DISPLAY_An_ADDRESS_INCREMENT_ea
00002602                          1638      
00002602  BCFC 0004               1639      CMP.W   #%100,A6
00002606  6700 FB66               1640      BEQ     DISPLAY_An_ADDRESS_DECREMENT_ea
0000260A                          1641      
0000260A  BCFC 0007               1642      CMP.W   #%111,A6
0000260E  6700 0006               1643      BEQ     DISPLAY_ADDRESS_ea
00002612                          1644      
00002612  6000 EA9E               1645      BRA     IF_INVALID_OP
00002616                          1646  
00002616                          1647  DISPLAY_ADDRESS_ea
00002616  BCFC 0000               1648      CMP.W   #%000,A6
0000261A  6700 FBA4               1649      BEQ     DISPLAY_ADDRESS_WORD_ea
0000261E                          1650      
0000261E  BCFC 0001               1651      CMP.W   #%001,A6
00002622  6700 FBB8               1652      BEQ     DISPLAY_ADDRESS_LONG_ea
00002626                          1653      
00002626  6000 EA8A               1654      BRA     IF_INVALID_OP
0000262A                          1655      
0000262A                          1656  
0000262A                          1657  
0000262A                          1658      
0000262A                          1659      
0000262A                          1660      
0000262A                          1661  
0000262A                          1662  
0000262A                          1663  -------------------- end include --------------------
0000262A                          1664          INCLUDE MULS_AND.X68
00003500                          1665      ORG    $3500
00003500                          1666  IF_MULS_AND
00003500  360C                    1667      MOVE.W  A4,D3
00003502                          1668      
00003502                          1669      ;Get the register
00003502  C67C 0FFF               1670      AND.W   #$0FFF,D3
00003506  E743                    1671      ASL.W   #3,D3
00003508  3803                    1672      MOVE.W  D3,D4
0000350A  C8BC 0000F000           1673      AND.L   #$0000F000,D4
00003510  E95C                    1674      ROL.W   #4,D4
00003512  2844                    1675      MOVE.L  D4,A4 ;register
00003514                          1676  
00003514                          1677      ;Get the opmode
00003514  C67C 0FFF               1678      AND.W   #$0FFF,D3
00003518  E743                    1679      ASL.W   #3,D3
0000351A  3803                    1680      MOVE.W  D3,D4
0000351C  C8BC 0000F000           1681      AND.L   #$0000F000,D4
00003522  E95C                    1682      ROL.W   #4,D4
00003524  2A44                    1683      MOVE.L  D4,A5 ;opmode
00003526                          1684  
00003526                          1685      ;Get the effective mode 
00003526  C67C 0FFF               1686      AND.W   #$0FFF,D3
0000352A  E743                    1687      ASL.W   #3,D3
0000352C  3803                    1688      MOVE.W  D3,D4
0000352E  C8BC 0000F000           1689      AND.L   #$0000F000,D4
00003534  E95C                    1690      ROL.W   #4,D4
00003536  2C44                    1691      MOVE.L  D4,A6 ;effective mode
00003538                          1692      
00003538                          1693      ;Get the effective register
00003538  C67C 0FFF               1694      AND.W   #$0FFF,D3
0000353C  E743                    1695      ASL.W   #3,D3
0000353E  3803                    1696      MOVE.W  D3,D4
00003540  C8BC 0000F000           1697      AND.L   #$0000F000,D4
00003546  E95C                    1698      ROL.W   #4,D4 ;effective register
00003548                          1699      
00003548  143C 0010               1700      MOVE.B  #16,D2
0000354C  103C 000F               1701      MOVE.B  #15,D0
00003550                          1702      
00003550  6000 0002               1703      BRA     DETERMINE_MULS_AND
00003554                          1704      
00003554                          1705  DETERMINE_MULS_AND
00003554  BAFC 0007               1706      CMP.W   #%111,A5
00003558  6700 013E               1707      BEQ     DISPLAY_MULS
0000355C                          1708      
0000355C  6000 0002               1709      BRA     DISPLAY_AND
00003560                          1710  
00003560                          1711  
00003560                          1712  ;AND;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00003560                          1713  DISPLAY_AND 
00003560  43F9 0000110D           1714      LEA     AND_OUTPUT,A1
00003566  103C 000E               1715      MOVE.B  #14,D0
0000356A  4E4F                    1716      TRAP    #15
0000356C                          1717      
0000356C  BAFC 0000               1718      CMP.W   #%000,A5
00003570  6700 002E               1719      BEQ     DISPLAY_BYTE_SRC_AND
00003574                          1720      
00003574  BAFC 0001               1721      CMP.W   #%001,A5
00003578  6700 0048               1722      BEQ     DISPLAY_WORD_SRC_AND
0000357C                          1723      
0000357C  BAFC 0002               1724      CMP.W   #%010,A5
00003580  6700 0062               1725      BEQ     DISPLAY_LONG_SRC_AND
00003584                          1726      
00003584  BAFC 0004               1727      CMP.W   #%100,A5
00003588  6700 007C               1728      BEQ     DISPLAY_BYTE_DEST_AND
0000358C                          1729      
0000358C  BAFC 0005               1730      CMP.W   #%101,A5
00003590  6700 0096               1731      BEQ     DISPLAY_WORD_DEST_AND
00003594                          1732      
00003594  BAFC 0006               1733      CMP.W   #%110,A5
00003598  6700 00B0               1734      BEQ     DISPLAY_LONG_DEST_AND
0000359C                          1735      
0000359C  6000 DB14               1736      BRA     IF_INVALID_OP   
000035A0                          1737      
000035A0                          1738  DISPLAY_BYTE_SRC_AND
000035A0  43F9 0000112B           1739      LEA     B_OUTPUT,A1
000035A6  103C 000E               1740      MOVE.B  #14,D0
000035AA  4E4F                    1741      TRAP    #15
000035AC                          1742  
000035AC  6100 00BE               1743      BSR     GET_EFFECTIVE_ADDRESS_AND_SRC  
000035B0                          1744      
000035B0  123C 002C               1745      MOVE.B  #COMMA,D1
000035B4  103C 0006               1746      MOVE.B  #6,D0
000035B8  4E4F                    1747      TRAP    #15
000035BA                          1748      
000035BA  6100 EDC8               1749      BSR     DISPLAY_Dn_ADD
000035BE                          1750      
000035BE  6000 DB02               1751      BRA     ITERATE
000035C2                          1752  
000035C2                          1753  DISPLAY_WORD_SRC_AND
000035C2  43F9 0000112F           1754      LEA     W_OUTPUT,A1
000035C8  103C 000E               1755      MOVE.B  #14,D0
000035CC  4E4F                    1756      TRAP    #15
000035CE                          1757  
000035CE  6100 009C               1758      BSR     GET_EFFECTIVE_ADDRESS_AND_SRC  
000035D2                          1759  
000035D2  123C 002C               1760      MOVE.B  #COMMA,D1
000035D6  103C 0006               1761      MOVE.B  #6,D0
000035DA  4E4F                    1762      TRAP    #15    
000035DC                          1763  
000035DC  6100 EDA6               1764      BSR     DISPLAY_Dn_ADD
000035E0                          1765      
000035E0  6000 DAE0               1766      BRA     ITERATE
000035E4                          1767  
000035E4                          1768  DISPLAY_LONG_SRC_AND
000035E4  43F9 00001133           1769      LEA     L_OUTPUT,A1
000035EA  103C 000E               1770      MOVE.B  #14,D0
000035EE  4E4F                    1771      TRAP    #15
000035F0                          1772  
000035F0  6100 007A               1773      BSR     GET_EFFECTIVE_ADDRESS_AND_SRC  
000035F4                          1774  
000035F4  123C 002C               1775      MOVE.B  #COMMA,D1
000035F8  103C 0006               1776      MOVE.B  #6,D0
000035FC  4E4F                    1777      TRAP    #15    
000035FE                          1778  
000035FE  6100 ED84               1779      BSR     DISPLAY_Dn_ADD
00003602                          1780      
00003602  6000 DABE               1781      BRA     ITERATE
00003606                          1782  
00003606                          1783  DISPLAY_BYTE_DEST_AND
00003606  43F9 0000112B           1784      LEA     B_OUTPUT,A1
0000360C  103C 000E               1785      MOVE.B  #14,D0
00003610  4E4F                    1786      TRAP    #15
00003612                          1787  
00003612  6100 ED70               1788      BSR     DISPLAY_Dn_ADD
00003616                          1789      
00003616  123C 002C               1790      MOVE.B  #COMMA,D1
0000361A  103C 0006               1791      MOVE.B  #6,D0
0000361E  4E4F                    1792      TRAP    #15    
00003620                          1793  
00003620  6100 ED7A               1794      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
00003624                          1795      
00003624  6000 DA9C               1796      BRA     ITERATE
00003628                          1797  
00003628                          1798  DISPLAY_WORD_DEST_AND
00003628  43F9 0000112F           1799      LEA     W_OUTPUT,A1
0000362E  103C 000E               1800      MOVE.B  #14,D0
00003632  4E4F                    1801      TRAP    #15
00003634                          1802  
00003634  6100 ED4E               1803      BSR     DISPLAY_Dn_ADD
00003638                          1804      
00003638  123C 002C               1805      MOVE.B  #COMMA,D1
0000363C  103C 0006               1806      MOVE.B  #6,D0
00003640  4E4F                    1807      TRAP    #15    
00003642                          1808  
00003642  6100 ED58               1809      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
00003646                          1810      
00003646  6000 DA7A               1811      BRA     ITERATE
0000364A                          1812  
0000364A                          1813  DISPLAY_LONG_DEST_AND
0000364A  43F9 00001133           1814      LEA     L_OUTPUT,A1
00003650  103C 000E               1815      MOVE.B  #14,D0
00003654  4E4F                    1816      TRAP    #15
00003656                          1817  
00003656  6100 ED2C               1818      BSR     DISPLAY_Dn_ADD
0000365A                          1819      
0000365A  123C 002C               1820      MOVE.B  #COMMA,D1
0000365E  103C 0006               1821      MOVE.B  #6,D0
00003662  4E4F                    1822      TRAP    #15    
00003664                          1823  
00003664  6100 ED36               1824      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
00003668                          1825      
00003668  6000 DA58               1826      BRA     ITERATE
0000366C                          1827  
0000366C                          1828  GET_EFFECTIVE_ADDRESS_AND_SRC   
0000366C  BCFC 0000               1829      CMP.W   #%000,A6
00003670  6700 EA6A               1830      BEQ     DISPLAY_Dn_ea
00003674                          1831  
00003674  BCFC 0002               1832      CMP.W   #%010,A6
00003678  6700 EA92               1833      BEQ     DISPLAY_An_ADDRESS_ea
0000367C                          1834      
0000367C  BCFC 0003               1835      CMP.W   #%011,A6
00003680  6700 EAB6               1836      BEQ     DISPLAY_An_ADDRESS_INCREMENT_ea
00003684                          1837      
00003684  BCFC 0004               1838      CMP.W   #%100,A6
00003688  6700 EAE4               1839      BEQ     DISPLAY_An_ADDRESS_DECREMENT_ea
0000368C                          1840      
0000368C  BCFC 0007               1841      CMP.W   #%111,A6
00003690  6700 EB12               1842      BEQ     DISPLAY_ADDRESS_OR_DATA_ea
00003694                          1843      
00003694  6000 DA1C               1844      BRA     IF_INVALID_OP
00003698                          1845  
00003698                          1846  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00003698                          1847  
00003698                          1848  ;MULS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00003698                          1849  DISPLAY_MULS
00003698  43F9 00001111           1850      LEA     MULS_OUTPUT,A1
0000369E  103C 000E               1851      MOVE.B  #14,D0
000036A2  4E4F                    1852      TRAP    #15
000036A4  6000 DA0C               1853      BRA     IF_INVALID_OP
000036A8                          1854      
000036A8  43F9 0000112F           1855      LEA     W_OUTPUT,A1
000036AE  103C 000E               1856      MOVE.B  #14,D0
000036B2  4E4F                    1857      TRAP    #15
000036B4  6000 D9FC               1858      BRA     IF_INVALID_OP
000036B8                          1859      
000036B8  61B2                    1860      BSR     GET_EFFECTIVE_ADDRESS_AND_SRC
000036BA                          1861      
000036BA  123C 002C               1862      MOVE.B  #COMMA,D1
000036BE  103C 0006               1863      MOVE.B  #6,D0
000036C2  4E4F                    1864      TRAP    #15 
000036C4                          1865      
000036C4  6100 ECBE               1866      BSR     DISPLAY_Dn_ADD
000036C8                          1867      
000036C8  6000 D9F8               1868      BRA     ITERATE
000036CC                          1869      
000036CC                          1870      
000036CC                          1871      
000036CC                          1872      
000036CC                          1873  
000036CC                          1874  
000036CC                          1875  -------------------- end include --------------------
000036CC                          1876          
00001000                          1877  START   ORG    $1000
00001000                          1878  
00001000                          1879      ; first instruction of program
00001000                          1880      
00001000                          1881      ;TODO: put in an actual line counter 
00001000  247C 00006000           1882      MOVE.L  #$6000,A2
00001006  267C 00007000           1883      MOVE.L  #$7000,A3
0000100C  6000 00C6               1884      BRA     COMPARE
00001010                          1885  
00001010                          1886  ;Parses Simple Commands, such as NOP     
00001010                          1887  PARSE_SIMPLE    
00001010                          1888      
00001010  3852                    1889      MOVE.W  (A2),A4
00001012                          1890      
00001012  B8FC 4E71               1891      CMP.W   #NOP_CODE,A4
00001016  6700 0062               1892      BEQ     IF_NOP 
0000101A                          1893      
0000101A  B8FC 4E75               1894      CMP.W   #RTS_CODE,A4
0000101E  6700 006A               1895      BEQ     IF_RTS
00001022                          1896      
00001022  6000 0002               1897      BRA     PARSE_COMPLEX
00001026                          1898  
00001026                          1899  ; For parsing more complex commands
00001026                          1900  PARSE_COMPLEX
00001026  3A4C                    1901      MOVE.W  A4,A5
00001028  360C                    1902      MOVE.W  A4,D3
0000102A                          1903      
0000102A  C67C F000               1904      AND.W   #$F000,D3
0000102E                          1905      
0000102E  B67C 1000               1906      CMP.W   #MOVE_B_CODE,D3
00001032  6700 0066               1907      BEQ     IF_MOVE_B
00001036                          1908  
00001036  B67C 3000               1909      CMP.W   #MOVE_W_CODE,D3
0000103A  6700 0066               1910      BEQ     IF_MOVE_W
0000103E                          1911      
0000103E  B67C 2000               1912      CMP.W   #MOVE_L_CODE,D3
00001042  6700 0066               1913      BEQ     IF_MOVE_L
00001046                          1914      
00001046  B67C D000               1915      CMP.W   #ADD_CODE,D3
0000104A  6700 0FB4               1916      BEQ     IF_ADD_ADDA
0000104E                          1917      
0000104E  B67C 9000               1918      CMP.W   #SUB_CODE,D3
00001052  6700 1FAC               1919      BEQ     IF_SUB
00001056                          1920      
00001056  B67C 5000               1921      CMP.W   #ADDQ_CODE,D3
0000105A  6700 14A4               1922      BEQ     IF_ADDQ
0000105E                          1923      
0000105E  B67C C000               1924      CMP.W   #MULS_AND_CODE,D3
00001062  6700 249C               1925      BEQ     IF_MULS_AND
00001066                          1926      
00001066  B67C 8000               1927      CMP.W   #DIVU_OR_CODE,D3
0000106A  6700 2F94               1928      BEQ     IF_DIVU_OR
0000106E                          1929      
0000106E  B67C 4000               1930      CMP.W   #MISC_CODE,D3
00001072  6700 348C               1931      BEQ     IF_MISC
00001076                          1932      
00001076  6000 003A               1933      BRA     IF_INVALID_OP
0000107A                          1934      
0000107A                          1935  IF_NOP
0000107A  43F9 000010E4           1936      LEA     NOP_OUTPUT,A1
00001080  103C 000E               1937      MOVE.B  #14,D0
00001084  4E4F                    1938      TRAP    #15
00001086  6000 003A               1939      BRA     ITERATE
0000108A                          1940  
0000108A                          1941  IF_RTS
0000108A  43F9 000010EA           1942      LEA     RTS_OUTPUT,A1
00001090  103C 000E               1943      MOVE.B  #14,D0
00001094  4E4F                    1944      TRAP    #15
00001096  6000 002A               1945      BRA     ITERATE
0000109A                          1946  
0000109A                          1947  IF_MOVE_B
0000109A  3A3C 1000               1948      MOVE.W  #MOVE_B_CODE,D5
0000109E  6000 0460               1949      BRA     PARSE_MOVE
000010A2                          1950  
000010A2                          1951  IF_MOVE_W
000010A2  3A3C 3000               1952      MOVE.W  #MOVE_W_CODE,D5
000010A6  6000 0458               1953      BRA     PARSE_MOVE
000010AA                          1954  
000010AA                          1955  IF_MOVE_L
000010AA  3A3C 2000               1956      MOVE.W  #MOVE_L_CODE,D5
000010AE  6000 0450               1957      BRA     PARSE_MOVE
000010B2                          1958  
000010B2                          1959  IF_INVALID_OP
000010B2  43F9 00001137           1960      LEA     INVALID_OUTPUT,A1
000010B8  103C 000E               1961      MOVE.B  #14,D0
000010BC  4E4F                    1962      TRAP    #15
000010BE  6000 001E               1963      BRA     DONE
000010C2                          1964  
000010C2                          1965  ITERATE
000010C2  548A                    1966      ADDQ.L  #2,A2
000010C4                          1967      
000010C4  43F9 0000114C           1968      LEA     NEWLINE,A1
000010CA  103C 000E               1969      MOVE.B  #14,D0
000010CE  4E4F                    1970      TRAP    #15
000010D0                          1971      
000010D0  6000 0002               1972      BRA     COMPARE
000010D4                          1973      
000010D4                          1974  COMPARE    
000010D4  B4CB                    1975      CMP     A3,A2     
000010D6  6C00 0006               1976      BGE     DONE
000010DA  6000 FF34               1977      BRA     PARSE_SIMPLE
000010DE                          1978  
000010DE                          1979  DONE
000010DE  103C 0009               1980      MOVE.B  #9,D0
000010E2  4E4F                    1981      TRAP    #15
000010E4                          1982  
000010E4                          1983  * Put variables and constants here
000010E4                          1984  
000010E4  =0000000D               1985  CR              EQU     $0D
000010E4  =0000000A               1986  LF              EQU     $0A
000010E4  =00000028               1987  LEFT_PAR        EQU     $28
000010E4  =00000029               1988  RIGHT_PAR       EQU     $29
000010E4  =00000041               1989  A               EQU     $41
000010E4  =00000044               1990  D               EQU     $44
000010E4  =0000002B               1991  PLUS            EQU     $2B
000010E4  =0000002D               1992  MINUS           EQU     $2D
000010E4  =00000023               1993  NUM             EQU     $23
000010E4  =00000024               1994  HEX             EQU     $24
000010E4  =0000002C               1995  COMMA           EQU     $2C
000010E4                          1996  
000010E4                          1997  ;Codes to be parsed
000010E4  =00004E71               1998  NOP_CODE        EQU     $4E71
000010E4  =00004E75               1999  RTS_CODE        EQU     $4E75
000010E4  =00001000               2000  MOVE_B_CODE     EQU     $1000 ; MOVE.B, MOVEA.B (done)
000010E4  =00003000               2001  MOVE_W_CODE     EQU     $3000 ; MOVE.W, MOVEA.W (done)
000010E4  =00002000               2002  MOVE_L_CODE     EQU     $2000 ; MOVE.L, MOVEA.L (done)
000010E4  =00007000               2003  MOVEQ_CODE      EQU     $7000 ; MOVEQ 
000010E4  =00008000               2004  DIVU_OR_CODE    EQU     $8000 ; DIVU, OR (OR done)
000010E4  =00009000               2005  SUB_CODE        EQU     $9000 ; SUB (done)
000010E4  =0000C000               2006  MULS_AND_CODE   EQU     $C000 ; MULS, AND (done)
000010E4  =0000D000               2007  ADD_CODE        EQU     $D000 ; ADD, ADDA (done)
000010E4  =0000E000               2008  LS_CODE         EQU     $E000 ; LOGICAL SHIFTS
000010E4  =00005000               2009  ADDQ_CODE       EQU     $5000 ; ADDQ (done)
000010E4  =00006000               2010  Bcc_BRA_CODE    EQU     $6000 ; Bcc (BGT, BLE, BEQ), BRA
000010E4  =00004000               2011  MISC_CODE       EQU     $4000 ; LEA, NOT, JSR, MOVEM (LEA, NOT, JSR done)
000010E4                          2012  
000010E4                          2013  ;Sample outputs
000010E4= 4E 4F 50 0D 0A 00       2014  NOP_OUTPUT      DC.B    'NOP',CR,LF,0
000010EA= 52 54 53 0D 0A 00       2015  RTS_OUTPUT      DC.B    'RTS',CR,LF,0
000010F0                          2016  
000010F0= 4D 4F 56 45 41 00       2017  MOVEA_OUTPUT    DC.B    'MOVEA',0
000010F6= 4D 4F 56 45 00          2018  MOVE_OUTPUT     DC.B    'MOVE',0
000010FB= 41 44 44 41 00          2019  ADDA_OUTPUT     DC.B    'ADDA',0
00001100= 41 44 44 00             2020  ADD_OUTPUT      DC.B    'ADD',0
00001104= 53 55 42 00             2021  SUB_OUTPUT      DC.B    'SUB',0
00001108= 41 44 44 51 00          2022  ADDQ_OUTPUT     DC.B    'ADDQ',0
0000110D= 41 4E 44 00             2023  AND_OUTPUT      DC.B    'AND',0
00001111= 4D 55 4C 53 00          2024  MULS_OUTPUT     DC.B    'MULS',0
00001116= 4F 52 00                2025  OR_OUTPUT       DC.B    'OR',0
00001119= 44 49 56 55 00          2026  DIVU_OUTPUT     DC.B    'DIVU',0
0000111E= 4E 4F 54 00             2027  NOT_OUTPUT      DC.B    'NOT',0
00001122= 4A 53 52 20 00          2028  JSR_OUTPUT      DC.B    'JSR ',0
00001127= 4C 45 41 00             2029  LEA_OUTPUT      DC.B    'LEA',0
0000112B                          2030  
0000112B= 2E 42 20 00             2031  B_OUTPUT        DC.B    '.B ',0
0000112F= 2E 57 20 00             2032  W_OUTPUT        DC.B    '.W ',0
00001133= 2E 4C 20 00             2033  L_OUTPUT        DC.B    '.L ',0
00001137                          2034  
00001137= 49 6E 76 61 6C 69 ...   2035  INVALID_OUTPUT  DC.B    'Invalid operation!',CR,LF,0
0000114C= 0D 0A 00                2036  NEWLINE         DC.B    CR,LF,0
0000114F                          2037  
0000114F                          2038              END    START        ; last line of source

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
A                   41
ADDA_OUTPUT         10FB
ADDQ_CODE           5000
ADDQ_OUTPUT         1108
ADD_CODE            D000
ADD_OUTPUT          1100
AND_OUTPUT          110D
BCC_BRA_CODE        6000
B_OUTPUT            112B
CHECK_MOVEM         4644
COMMA               2C
COMPARE             10D4
CR                  D
D                   44
DETERMINE_DIVU_OR   4054
DETERMINE_MULS_AND  3554
DISPLAY_ADD         2274
DISPLAY_ADDA_L      2088
DISPLAY_ADDA_REGISTER  2250
DISPLAY_ADDA_W      2068
DISPLAY_ADDQ        2554
DISPLAY_ADDQ_BYTE   2580
DISPLAY_ADDQ_COMMA  25B0
DISPLAY_ADDQ_LONG   25A0
DISPLAY_ADDQ_SIZE   2564
DISPLAY_ADDQ_WORD   2590
DISPLAY_ADDRESS_EA  2616
DISPLAY_ADDRESS_LONG_DEST  18F6
DISPLAY_ADDRESS_LONG_EA  21DC
DISPLAY_ADDRESS_LONG_NOT  4754
DISPLAY_ADDRESS_LONG_SRC  1708
DISPLAY_ADDRESS_OR_DATA_DEST  18C4
DISPLAY_ADDRESS_OR_DATA_EA  21A4
DISPLAY_ADDRESS_OR_DATA_NOT  4724
DISPLAY_ADDRESS_OR_DATA_SRC  16CE
DISPLAY_ADDRESS_WORD_DEST  18D8
DISPLAY_ADDRESS_WORD_EA  21C0
DISPLAY_ADDRESS_WORD_NOT  4738
DISPLAY_ADDRESS_WORD_SRC  16EA
DISPLAY_ADD_ADDA    2054
DISPLAY_AND         3560
DISPLAY_AN_ADDRESS_DECREMENT_EA  216E
DISPLAY_AN_ADDRESS_DECREMENT_NOT  46EE
DISPLAY_AN_ADDRESS_EA  210C
DISPLAY_AN_ADDRESS_INCREMENT_EA  2138
DISPLAY_AN_ADDRESS_INCREMENT_NOT  46B8
DISPLAY_AN_ADDRESS_NOT  468C
DISPLAY_AN_DEST     180C
DISPLAY_AN_EA       20F4
DISPLAY_AN_SRC      1616
DISPLAY_ARGS        2284
DISPLAY_AT_AN_DECREMENT_DEST  188C
DISPLAY_AT_AN_DECREMENT_SRC  1696
DISPLAY_AT_AN_DEST  1826
DISPLAY_AT_AN_INCREMENT_DEST  1854
DISPLAY_AT_AN_INCREMENT_SRC  165E
DISPLAY_AT_AN_SRC   1630
DISPLAY_BYTE        1598
DISPLAY_BYTE_DEST   231E
DISPLAY_BYTE_DEST_AND  3606
DISPLAY_BYTE_DEST_OR  410E
DISPLAY_BYTE_SRC    22B8
DISPLAY_BYTE_SRC_AND  35A0
DISPLAY_BYTE_SRC_OR  40A8
DISPLAY_DATA_EA     21F4
DISPLAY_DATA_LONG_EA  222E
DISPLAY_DATA_SRC    1722
DISPLAY_DATA_SRC_BYTE  173E
DISPLAY_DATA_SRC_LONG  1790
DISPLAY_DATA_SRC_WORD  1768
DISPLAY_DATA_WORD_EA  2208
DISPLAY_DEST        17B4
DISPLAY_DIVU        41A0
DISPLAY_DN_ADD      2384
DISPLAY_DN_DEST     17F2
DISPLAY_DN_EA       20DC
DISPLAY_DN_NOT      4674
DISPLAY_DN_SRC      15FC
DISPLAY_EA_JSR_LEA  476C
DISPLAY_EA_NOT      4648
DISPLAY_LONG        15B8
DISPLAY_LONG_DEST   2362
DISPLAY_LONG_DEST_AND  364A
DISPLAY_LONG_DEST_OR  4152
DISPLAY_LONG_SRC    22FC
DISPLAY_LONG_SRC_AND  35E4
DISPLAY_LONG_SRC_OR  40EC
DISPLAY_MOVE        156C
DISPLAY_MOVEA       155C
DISPLAY_MULS        3698
DISPLAY_NOT_BYTE    456A
DISPLAY_NOT_LONG    45AE
DISPLAY_NOT_WORD    458C
DISPLAY_OR          4068
DISPLAY_SRC_MODE    15C8
DISPLAY_SUB         3054
DISPLAY_TYPE        157C
DISPLAY_WORD        15A8
DISPLAY_WORD_DEST   2340
DISPLAY_WORD_DEST_AND  3628
DISPLAY_WORD_DEST_OR  4130
DISPLAY_WORD_SRC    22DA
DISPLAY_WORD_SRC_AND  35C2
DISPLAY_WORD_SRC_OR  40CA
DIVU_OR_CODE        8000
DIVU_OUTPUT         1119
DONE                10DE
GET_EFFECTIVE_ADDRESS_AND_SRC  366C
GET_EFFECTIVE_ADDRESS_EA  20A8
GET_EFFECTIVE_ADDRESS_EA_DEST  239C
GET_EFFECTIVE_ADDRESS_EA_NO_DATA  25E2
GET_EFFECTIVE_ADDRESS_OR_SRC  4174
HEX                 24
IF_ADDQ             2500
IF_ADD_ADDA         2000
IF_DIVU_L           4640
IF_DIVU_OR          4000
IF_INVALID_OP       10B2
IF_JSR              45D0
IF_LEA              45F2
IF_MISC             4500
IF_MOVE_B           109A
IF_MOVE_L           10AA
IF_MOVE_W           10A2
IF_MULS_AND         3500
IF_MULS_L           463C
IF_NOP              107A
IF_NOT              453C
IF_RTS              108A
IF_SUB              3000
INVALID_OUTPUT      1137
ITERATE             10C2
JSR_OUTPUT          1122
LEA_OUTPUT          1127
LEFT_PAR            28
LF                  A
LS_CODE             E000
L_OUTPUT            1133
MINUS               2D
MISC_CODE           4000
MOVEA_OUTPUT        10F0
MOVEQ_CODE          7000
MOVE_B_CODE         1000
MOVE_L_CODE         2000
MOVE_OUTPUT         10F6
MOVE_W_CODE         3000
MULS_AND_CODE       C000
MULS_OUTPUT         1111
NEWLINE             114C
NOP_CODE            4E71
NOP_OUTPUT          10E4
NOT_OUTPUT          111E
NUM                 23
OR_OUTPUT           1116
PARSE_COMPLEX       1026
PARSE_MOVE          1500
PARSE_SIMPLE        1010
PLUS                2B
RIGHT_PAR           29
RTS_CODE            4E75
RTS_OUTPUT          10EA
START               1000
SUB_CODE            9000
SUB_OUTPUT          1104
W_OUTPUT            112F
