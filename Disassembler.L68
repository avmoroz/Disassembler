00001000 Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 5/28/2019 12:33:51 AM

00000000                             1  *-----------------------------------------------------------
00000000                             2  * Title      :
00000000                             3  * Written by :
00000000                             4  * Date       :
00000000                             5  * Description:
00000000                             6  *-----------------------------------------------------------
00000000                             7          INCLUDE MOVE_MOVEA.X68
00002000                             8      ORG    $2000
00002000                             9      
00002000                            10  PARSE_MOVE
00002000  360C                      11      MOVE.W  A4,D3
00002002                            12      
00002002                            13      ;Get the destination register
00002002  C67C 0FFF                 14      AND.W   #$0FFF,D3
00002006  E743                      15      ASL.W   #3,D3
00002008  3803                      16      MOVE.W  D3,D4
0000200A  C8BC 0000F000             17      AND.L   #$0000F000,D4
00002010  E95C                      18      ROL.W   #4,D4
00002012  2844                      19      MOVE.L  D4,A4 ;Destination register
00002014                            20  
00002014                            21      ;Get the destination mode
00002014  C67C 0FFF                 22      AND.W   #$0FFF,D3
00002018  E743                      23      ASL.W   #3,D3
0000201A  3803                      24      MOVE.W  D3,D4
0000201C  C8BC 0000F000             25      AND.L   #$0000F000,D4
00002022  E95C                      26      ROL.W   #4,D4
00002024  2A44                      27      MOVE.L  D4,A5 ;Destination mode
00002026                            28  
00002026                            29      ;Get the source mode 
00002026  C67C 0FFF                 30      AND.W   #$0FFF,D3
0000202A  E743                      31      ASL.W   #3,D3
0000202C  3803                      32      MOVE.W  D3,D4
0000202E  C8BC 0000F000             33      AND.L   #$0000F000,D4
00002034  E95C                      34      ROL.W   #4,D4
00002036  2C44                      35      MOVE.L  D4,A6 ;Source mode
00002038                            36      
00002038                            37      ;Get the source register
00002038  C67C 0FFF                 38      AND.W   #$0FFF,D3
0000203C  E743                      39      ASL.W   #3,D3
0000203E  3803                      40      MOVE.W  D3,D4
00002040  C8BC 0000F000             41      AND.L   #$0000F000,D4
00002046  E95C                      42      ROL.W   #4,D4 ;Source register
00002048                            43      
00002048  143C 0010                 44      MOVE.B  #16,D2
0000204C  103C 000F                 45      MOVE.B  #15,D0
00002050                            46      
00002050  BAFC 0001                 47      CMP.W   #%001,A5
00002054  6700 0006                 48      BEQ     DISPLAY_MOVEA
00002058  6000 0012                 49      BRA     DISPLAY_MOVE
0000205C                            50      
0000205C                            51  DISPLAY_MOVEA
0000205C  43F9 000010D8             52      LEA     MOVEA_OUTPUT,A1
00002062  103C 000E                 53      MOVE.B  #14,D0
00002066  4E4F                      54      TRAP    #15
00002068  6000 0012                 55      BRA     DISPLAY_TYPE
0000206C                            56  
0000206C                            57  DISPLAY_MOVE
0000206C  43F9 000010DE             58      LEA     MOVE_OUTPUT,A1
00002072  103C 000E                 59      MOVE.B  #14,D0
00002076  4E4F                      60      TRAP    #15
00002078  6000 0002                 61      BRA     DISPLAY_TYPE
0000207C                            62      
0000207C                            63  DISPLAY_TYPE
0000207C  BA7C 1000                 64      CMP.W   #MOVE_B_CODE,D5
00002080  6700 0016                 65      BEQ     DISPLAY_BYTE
00002084                            66      
00002084  BA7C 3000                 67      CMP.W   #MOVE_W_CODE,D5
00002088  6700 001E                 68      BEQ     DISPLAY_WORD
0000208C                            69      
0000208C  BA7C 2000                 70      CMP.W   #MOVE_L_CODE,D5
00002090  6700 0026                 71      BEQ     DISPLAY_LONG
00002094                            72      
00002094  6000 F004                 73      BRA     IF_INVALID_OP     
00002098                            74      
00002098                            75  DISPLAY_BYTE
00002098  43F9 000010F5             76      LEA     B_OUTPUT,A1
0000209E  103C 000E                 77      MOVE.B  #14,D0
000020A2  4E4F                      78      TRAP    #15
000020A4  6000 0022                 79      BRA     DISPLAY_SRC_MODE
000020A8                            80  
000020A8                            81  DISPLAY_WORD
000020A8  43F9 000010F5             82      LEA     B_OUTPUT,A1
000020AE  103C 000E                 83      MOVE.B  #14,D0
000020B2  4E4F                      84      TRAP    #15
000020B4  6000 0012                 85      BRA     DISPLAY_SRC_MODE
000020B8                            86  
000020B8                            87  DISPLAY_LONG
000020B8  43F9 000010FD             88      LEA     L_OUTPUT,A1
000020BE  103C 000E                 89      MOVE.B  #14,D0
000020C2  4E4F                      90      TRAP    #15
000020C4  6000 0002                 91      BRA     DISPLAY_SRC_MODE
000020C8                            92  
000020C8                            93  DISPLAY_SRC_MODE
000020C8  BCFC 0000                 94      CMP.W   #%000,A6
000020CC  6700 002E                 95      BEQ     DISPLAY_Dn_SRC
000020D0                            96      
000020D0  BCFC 0001                 97      CMP.W   #%001,A6
000020D4  6700 0040                 98      BEQ     DISPLAY_An_SRC
000020D8                            99      
000020D8  BCFC 0002                100      CMP.W   #%010,A6
000020DC  6700 0052                101      BEQ     DISPLAY_AT_An_SRC
000020E0                           102      
000020E0  BCFC 0003                103      CMP.W   #%011,A6
000020E4  6700 0078                104      BEQ     DISPLAY_AT_An_INCREMENT_SRC
000020E8                           105      
000020E8  BCFC 0004                106      CMP.W   #%100,A6
000020EC  6700 00A8                107      BEQ     DISPLAY_AT_An_DECREMENT_SRC
000020F0                           108      
000020F0  BCFC 0007                109      CMP.W   #%111,A6
000020F4  6700 00D8                110      BEQ     DISPLAY_ADDRESS_OR_DATA_SRC
000020F8                           111      
000020F8  6000 EFA0                112      BRA     IF_INVALID_OP
000020FC                           113      
000020FC                           114  DISPLAY_Dn_SRC
000020FC  123C 0044                115      MOVE.B  #D,D1
00002100  103C 0006                116      MOVE.B  #6,D0
00002104  4E4F                     117      TRAP    #15
00002106                           118      
00002106  143C 0010                119      MOVE.B  #16,D2
0000210A  103C 000F                120      MOVE.B  #15,D0
0000210E  2204                     121      MOVE.L  D4,D1
00002110  4E4F                     122      TRAP    #15
00002112                           123      
00002112  6000 01A2                124      BRA     DISPLAY_DEST
00002116                           125  
00002116                           126  DISPLAY_An_SRC
00002116  123C 0041                127      MOVE.B  #A,D1
0000211A  103C 0006                128      MOVE.B  #6,D0
0000211E  4E4F                     129      TRAP    #15
00002120                           130      
00002120  143C 0010                131      MOVE.B  #16,D2
00002124  103C 000F                132      MOVE.B  #15,D0
00002128  2204                     133      MOVE.L  D4,D1
0000212A  4E4F                     134      TRAP    #15
0000212C                           135  
0000212C  6000 0188                136      BRA     DISPLAY_DEST
00002130                           137  
00002130                           138  DISPLAY_AT_An_SRC
00002130  123C 0028                139      MOVE.B  #LEFT_PAR,D1
00002134  103C 0006                140      MOVE.B  #6,D0
00002138  4E4F                     141      TRAP    #15
0000213A                           142  
0000213A  123C 0041                143      MOVE.B  #A,D1
0000213E  103C 0006                144      MOVE.B  #6,D0
00002142  4E4F                     145      TRAP    #15
00002144                           146      
00002144  143C 0010                147      MOVE.B  #16,D2
00002148  103C 000F                148      MOVE.B  #15,D0
0000214C  2204                     149      MOVE.L  D4,D1
0000214E  4E4F                     150      TRAP    #15
00002150                           151      
00002150  123C 0029                152      MOVE.B  #RIGHT_PAR,D1
00002154  103C 0006                153      MOVE.B  #6,D0
00002158  4E4F                     154      TRAP    #15
0000215A                           155  
0000215A  6000 015A                156      BRA     DISPLAY_DEST
0000215E                           157  
0000215E                           158  DISPLAY_AT_An_INCREMENT_SRC
0000215E  123C 0028                159      MOVE.B  #LEFT_PAR,D1
00002162  103C 0006                160      MOVE.B  #6,D0
00002166  4E4F                     161      TRAP    #15
00002168                           162  
00002168  123C 0041                163      MOVE.B  #A,D1
0000216C  103C 0006                164      MOVE.B  #6,D0
00002170  4E4F                     165      TRAP    #15
00002172                           166      
00002172  143C 0010                167      MOVE.B  #16,D2
00002176  103C 000F                168      MOVE.B  #15,D0
0000217A  2204                     169      MOVE.L  D4,D1
0000217C  4E4F                     170      TRAP    #15
0000217E                           171      
0000217E  123C 0029                172      MOVE.B  #RIGHT_PAR,D1
00002182  103C 0006                173      MOVE.B  #6,D0
00002186  4E4F                     174      TRAP    #15
00002188                           175      
00002188  123C 002B                176      MOVE.B  #PLUS,D1
0000218C  103C 0006                177      MOVE.B  #6,D0
00002190  4E4F                     178      TRAP    #15
00002192                           179      
00002192  6000 0122                180      BRA     DISPLAY_DEST
00002196                           181  
00002196                           182  DISPLAY_AT_An_DECREMENT_SRC
00002196  123C 002D                183      MOVE.B  #MINUS,D1
0000219A  103C 0006                184      MOVE.B  #6,D0
0000219E  4E4F                     185      TRAP    #15
000021A0                           186  
000021A0  123C 0028                187      MOVE.B  #LEFT_PAR,D1
000021A4  103C 0006                188      MOVE.B  #6,D0
000021A8  4E4F                     189      TRAP    #15
000021AA                           190  
000021AA  123C 0041                191      MOVE.B  #A,D1
000021AE  103C 0006                192      MOVE.B  #6,D0
000021B2  4E4F                     193      TRAP    #15
000021B4                           194      
000021B4  143C 0010                195      MOVE.B  #16,D2
000021B8  103C 000F                196      MOVE.B  #15,D0
000021BC  2204                     197      MOVE.L  D4,D1
000021BE  4E4F                     198      TRAP    #15
000021C0                           199      
000021C0  123C 0029                200      MOVE.B  #RIGHT_PAR,D1
000021C4  103C 0006                201      MOVE.B  #6,D0
000021C8  4E4F                     202      TRAP    #15
000021CA                           203  
000021CA  6000 00EA                204      BRA     DISPLAY_DEST
000021CE                           205  
000021CE                           206  DISPLAY_ADDRESS_OR_DATA_SRC
000021CE  B87C 0000                207      CMP.W   #%000,D4
000021D2  6700 0016                208      BEQ     DISPLAY_ADDRESS_WORD_SRC
000021D6                           209      
000021D6  B87C 0001                210      CMP.W   #%001,D4
000021DA  6700 002E                211      BEQ     DISPLAY_ADDRESS_LONG_SRC
000021DE                           212  
000021DE  B87C 0004                213      CMP.W   #%100,D4
000021E2  6700 0040                214      BEQ     DISPLAY_DATA_SRC
000021E6                           215  
000021E6  6000 EEB2                216      BRA     IF_INVALID_OP
000021EA                           217  
000021EA                           218  DISPLAY_ADDRESS_WORD_SRC
000021EA  544A                     219      ADDQ    #2,A2
000021EC                           220      
000021EC  123C 0024                221      MOVE.B  #HEX,D1
000021F0  103C 0006                222      MOVE.B  #6,D0
000021F4  4E4F                     223      TRAP    #15
000021F6                           224      
000021F6  3212                     225      MOVE.W  (A2),D1
000021F8  C2BC 0000FFFF            226      AND.L   #$0000FFFF,D1
000021FE  103C 000F                227      MOVE.B  #15,D0
00002202  4E4F                     228      TRAP    #15
00002204                           229      
00002204  524A                     230      ADDQ    #1,A2
00002206                           231      
00002206  6000 00AE                232      BRA     DISPLAY_DEST
0000220A                           233  
0000220A                           234  DISPLAY_ADDRESS_LONG_SRC
0000220A  544A                     235      ADDQ    #2,A2
0000220C                           236      
0000220C  123C 0024                237      MOVE.B  #HEX,D1
00002210  103C 0006                238      MOVE.B  #6,D0
00002214  4E4F                     239      TRAP    #15
00002216                           240      
00002216  2212                     241      MOVE.L  (A2),D1
00002218  103C 000F                242      MOVE.B  #15,D0
0000221C  4E4F                     243      TRAP    #15
0000221E                           244      
0000221E  564A                     245      ADDQ    #3,A2
00002220                           246  
00002220  6000 0094                247      BRA     DISPLAY_DEST
00002224                           248      
00002224                           249  DISPLAY_DATA_SRC
00002224  BA7C 1000                250      CMP.W   #MOVE_B_CODE,D5
00002228  6700 0016                251      BEQ     DISPLAY_DATA_SRC_BYTE
0000222C                           252      
0000222C  BA7C 3000                253      CMP.W   #MOVE_W_CODE,D5
00002230  6700 0036                254      BEQ     DISPLAY_DATA_SRC_WORD
00002234                           255      
00002234  BA7C 3000                256      CMP.W   #MOVE_W_CODE,D5
00002238  6700 0058                257      BEQ     DISPLAY_DATA_SRC_LONG
0000223C                           258  
0000223C  6000 EE5C                259      BRA     IF_INVALID_OP
00002240                           260      
00002240                           261  DISPLAY_DATA_SRC_BYTE
00002240  564A                     262      ADDQ    #3,A2
00002242                           263      
00002242  123C 0023                264      MOVE.B  #NUM,D1
00002246  103C 0006                265      MOVE.B  #6,D0
0000224A  4E4F                     266      TRAP    #15    
0000224C                           267      
0000224C  123C 0024                268      MOVE.B  #HEX,D1
00002250  103C 0006                269      MOVE.B  #6,D0
00002254  4E4F                     270      TRAP    #15
00002256                           271      
00002256  1212                     272      MOVE.B  (A2),D1
00002258  C2BC 000000FF            273      AND.L   #$000000FF,D1
0000225E  103C 000F                274      MOVE.B  #15,D0
00002262  4E4F                     275      TRAP    #15
00002264                           276  
00002264  6000 0050                277      BRA     DISPLAY_DEST
00002268                           278  
00002268                           279  DISPLAY_DATA_SRC_WORD
00002268  544A                     280      ADDQ    #2,A2
0000226A                           281  
0000226A  123C 0023                282      MOVE.B  #NUM,D1
0000226E  103C 0006                283      MOVE.B  #6,D0
00002272  4E4F                     284      TRAP    #15
00002274                           285      
00002274  123C 0024                286      MOVE.B  #HEX,D1
00002278  103C 0006                287      MOVE.B  #6,D0
0000227C  4E4F                     288      TRAP    #15
0000227E                           289      
0000227E  3212                     290      MOVE.W  (A2),D1
00002280  C2BC 0000FFFF            291      AND.L   #$0000FFFF,D1
00002286  103C 000F                292      MOVE.B  #15,D0
0000228A  4E4F                     293      TRAP    #15
0000228C                           294  
0000228C  524A                     295      ADDQ    #1,A2
0000228E                           296  
0000228E  6000 0026                297      BRA     DISPLAY_DEST
00002292                           298      
00002292                           299  DISPLAY_DATA_SRC_LONG
00002292  544A                     300      ADDQ    #2,A2
00002294                           301      
00002294  123C 0023                302      MOVE.B  #NUM,D1
00002298  103C 0006                303      MOVE.B  #6,D0
0000229C  4E4F                     304      TRAP    #15
0000229E                           305      
0000229E  123C 0024                306      MOVE.B  #HEX,D1
000022A2  103C 0006                307      MOVE.B  #6,D0
000022A6  4E4F                     308      TRAP    #15
000022A8                           309      
000022A8  2212                     310      MOVE.L  (A2),D1
000022AA  103C 000F                311      MOVE.B  #15,D0
000022AE  4E4F                     312      TRAP    #15
000022B0                           313      
000022B0  564A                     314      ADDQ    #3,A2
000022B2                           315      
000022B2  6000 0002                316      BRA     DISPLAY_DEST
000022B6                           317      
000022B6                           318  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000022B6                           319  
000022B6                           320  DISPLAY_DEST
000022B6  123C 002C                321      MOVE.B  #COMMA,D1
000022BA  103C 0006                322      MOVE.B  #6,D0
000022BE  4E4F                     323      TRAP    #15
000022C0                           324  
000022C0  BAFC 0000                325      CMP.W   #%000,A5
000022C4  6700 002E                326      BEQ     DISPLAY_Dn_DEST
000022C8                           327      
000022C8  BAFC 0001                328      CMP.W   #%001,A5
000022CC  6700 0040                329      BEQ     DISPLAY_An_DEST
000022D0                           330      
000022D0  BAFC 0002                331      CMP.W   #%010,A5
000022D4  6700 0052                332      BEQ     DISPLAY_AT_An_DEST
000022D8                           333      
000022D8  BAFC 0003                334      CMP.W   #%011,A5
000022DC  6700 0078                335      BEQ     DISPLAY_AT_An_INCREMENT_DEST
000022E0                           336      
000022E0  BAFC 0004                337      CMP.W   #%100,A5
000022E4  6700 00A8                338      BEQ     DISPLAY_AT_An_DECREMENT_DEST
000022E8                           339      
000022E8  BAFC 0007                340      CMP.W   #%111,A5
000022EC  6700 00D8                341      BEQ     DISPLAY_ADDRESS_OR_DATA_DEST
000022F0                           342      
000022F0  6000 EDA8                343      BRA     IF_INVALID_OP
000022F4                           344  
000022F4                           345  DISPLAY_Dn_DEST
000022F4  123C 0044                346      MOVE.B  #D,D1
000022F8  103C 0006                347      MOVE.B  #6,D0
000022FC  4E4F                     348      TRAP    #15
000022FE                           349      
000022FE  143C 0010                350      MOVE.B  #16,D2
00002302  103C 000F                351      MOVE.B  #15,D0
00002306  220C                     352      MOVE.L  A4,D1
00002308  4E4F                     353      TRAP    #15
0000230A                           354      
0000230A  6000 ED9E                355      BRA     ITERATE
0000230E                           356  
0000230E                           357  DISPLAY_An_DEST
0000230E  123C 0041                358      MOVE.B  #A,D1
00002312  103C 0006                359      MOVE.B  #6,D0
00002316  4E4F                     360      TRAP    #15
00002318                           361      
00002318  143C 0010                362      MOVE.B  #16,D2
0000231C  103C 000F                363      MOVE.B  #15,D0
00002320  220C                     364      MOVE.L  A4,D1
00002322  4E4F                     365      TRAP    #15
00002324                           366  
00002324  6000 ED84                367      BRA     ITERATE
00002328                           368  
00002328                           369  DISPLAY_AT_An_DEST
00002328  123C 0028                370      MOVE.B  #LEFT_PAR,D1
0000232C  103C 0006                371      MOVE.B  #6,D0
00002330  4E4F                     372      TRAP    #15
00002332                           373  
00002332  123C 0041                374      MOVE.B  #A,D1
00002336  103C 0006                375      MOVE.B  #6,D0
0000233A  4E4F                     376      TRAP    #15
0000233C                           377      
0000233C  143C 0010                378      MOVE.B  #16,D2
00002340  103C 000F                379      MOVE.B  #15,D0
00002344  220C                     380      MOVE.L  A4,D1
00002346  4E4F                     381      TRAP    #15
00002348                           382      
00002348  123C 0029                383      MOVE.B  #RIGHT_PAR,D1
0000234C  103C 0006                384      MOVE.B  #6,D0
00002350  4E4F                     385      TRAP    #15
00002352                           386  
00002352  6000 ED56                387      BRA     ITERATE
00002356                           388  
00002356                           389  DISPLAY_AT_An_INCREMENT_DEST
00002356  123C 0028                390      MOVE.B  #LEFT_PAR,D1
0000235A  103C 0006                391      MOVE.B  #6,D0
0000235E  4E4F                     392      TRAP    #15
00002360                           393  
00002360  123C 0041                394      MOVE.B  #A,D1
00002364  103C 0006                395      MOVE.B  #6,D0
00002368  4E4F                     396      TRAP    #15
0000236A                           397      
0000236A  143C 0010                398      MOVE.B  #16,D2
0000236E  103C 000F                399      MOVE.B  #15,D0
00002372  220C                     400      MOVE.L  A4,D1
00002374  4E4F                     401      TRAP    #15
00002376                           402      
00002376  123C 0029                403      MOVE.B  #RIGHT_PAR,D1
0000237A  103C 0006                404      MOVE.B  #6,D0
0000237E  4E4F                     405      TRAP    #15
00002380                           406      
00002380  123C 002B                407      MOVE.B  #PLUS,D1
00002384  103C 0006                408      MOVE.B  #6,D0
00002388  4E4F                     409      TRAP    #15
0000238A                           410      
0000238A  6000 ED1E                411      BRA     ITERATE
0000238E                           412  
0000238E                           413  DISPLAY_AT_An_DECREMENT_DEST
0000238E  123C 002D                414      MOVE.B  #MINUS,D1
00002392  103C 0006                415      MOVE.B  #6,D0
00002396  4E4F                     416      TRAP    #15
00002398                           417  
00002398  123C 0028                418      MOVE.B  #LEFT_PAR,D1
0000239C  103C 0006                419      MOVE.B  #6,D0
000023A0  4E4F                     420      TRAP    #15
000023A2                           421  
000023A2  123C 0041                422      MOVE.B  #A,D1
000023A6  103C 0006                423      MOVE.B  #6,D0
000023AA  4E4F                     424      TRAP    #15
000023AC                           425      
000023AC  143C 0010                426      MOVE.B  #16,D2
000023B0  103C 000F                427      MOVE.B  #15,D0
000023B4  220C                     428      MOVE.L  A4,D1
000023B6  4E4F                     429      TRAP    #15
000023B8                           430      
000023B8  123C 0029                431      MOVE.B  #RIGHT_PAR,D1
000023BC  103C 0006                432      MOVE.B  #6,D0
000023C0  4E4F                     433      TRAP    #15
000023C2                           434  
000023C2  6000 ECE6                435      BRA     ITERATE
000023C6                           436  
000023C6                           437  DISPLAY_ADDRESS_OR_DATA_DEST
000023C6  B8FC 0000                438      CMP.W   #%000,A4
000023CA  6700 000E                439      BEQ     DISPLAY_ADDRESS_WORD_DEST
000023CE                           440      
000023CE  B8FC 0001                441      CMP.W   #%001,A4
000023D2  6700 0030                442      BEQ     DISPLAY_ADDRESS_LONG_DEST
000023D6                           443  
000023D6  6000 ECC2                444      BRA     IF_INVALID_OP
000023DA                           445  
000023DA                           446  DISPLAY_ADDRESS_WORD_DEST
000023DA  524A                     447      ADDQ    #1,A2
000023DC                           448  
000023DC  123C 0023                449      MOVE.B  #NUM,D1
000023E0  103C 0006                450      MOVE.B  #6,D0
000023E4  4E4F                     451      TRAP    #15
000023E6                           452      
000023E6  123C 0024                453      MOVE.B  #HEX,D1
000023EA  103C 0006                454      MOVE.B  #6,D0
000023EE  4E4F                     455      TRAP    #15
000023F0                           456      
000023F0  3212                     457      MOVE.W  (A2),D1
000023F2  C2BC 0000FFFF            458      AND.L   #$0000FFFF,D1
000023F8  103C 000F                459      MOVE.B  #15,D0
000023FC  4E4F                     460      TRAP    #15
000023FE                           461  
000023FE  534A                     462      SUBQ    #1,A2
00002400                           463      
00002400  6000 ECA8                464      BRA     ITERATE
00002404                           465  
00002404                           466  DISPLAY_ADDRESS_LONG_DEST
00002404  524A                     467      ADDQ    #1,A2
00002406                           468      
00002406  123C 0023                469      MOVE.B  #NUM,D1
0000240A  103C 0006                470      MOVE.B  #6,D0
0000240E  4E4F                     471      TRAP    #15
00002410                           472      
00002410  123C 0024                473      MOVE.B  #HEX,D1
00002414  103C 0006                474      MOVE.B  #6,D0
00002418  4E4F                     475      TRAP    #15
0000241A                           476      
0000241A  2212                     477      MOVE.L  (A2),D1
0000241C  103C 000F                478      MOVE.B  #15,D0
00002420  4E4F                     479      TRAP    #15
00002422                           480      
00002422  524A                     481      ADDQ    #1,A2
00002424                           482  
00002424  6000 EC84                483      BRA     ITERATE
00002428                           484  
00002428                           485  
00002428                           486  -------------------- end include --------------------
00002428                           487          INCLUDE ADD_ADDA.X68
00002428                           488  
00003000                           489      ORG     $3000
00003000                           490      
00003000                           491  IF_ADD_ADDA
00003000  360C                     492      MOVE.W  A4,D3
00003002                           493      
00003002                           494      ;Get the register
00003002  C67C 0FFF                495      AND.W   #$0FFF,D3
00003006  E743                     496      ASL.W   #3,D3
00003008  3803                     497      MOVE.W  D3,D4
0000300A  C8BC 0000F000            498      AND.L   #$0000F000,D4
00003010  E95C                     499      ROL.W   #4,D4
00003012  2844                     500      MOVE.L  D4,A4 ;register
00003014                           501  
00003014                           502      ;Get the opmode
00003014  C67C 0FFF                503      AND.W   #$0FFF,D3
00003018  E743                     504      ASL.W   #3,D3
0000301A  3803                     505      MOVE.W  D3,D4
0000301C  C8BC 0000F000            506      AND.L   #$0000F000,D4
00003022  E95C                     507      ROL.W   #4,D4
00003024  2A44                     508      MOVE.L  D4,A5 ;opmode
00003026                           509  
00003026                           510      ;Get the effective mode 
00003026  C67C 0FFF                511      AND.W   #$0FFF,D3
0000302A  E743                     512      ASL.W   #3,D3
0000302C  3803                     513      MOVE.W  D3,D4
0000302E  C8BC 0000F000            514      AND.L   #$0000F000,D4
00003034  E95C                     515      ROL.W   #4,D4
00003036  2C44                     516      MOVE.L  D4,A6 ;effective mode
00003038                           517      
00003038                           518      ;Get the effective register
00003038  C67C 0FFF                519      AND.W   #$0FFF,D3
0000303C  E743                     520      ASL.W   #3,D3
0000303E  3803                     521      MOVE.W  D3,D4
00003040  C8BC 0000F000            522      AND.L   #$0000F000,D4
00003046  E95C                     523      ROL.W   #4,D4 ;effective register
00003048                           524      
00003048  143C 0010                525      MOVE.B  #16,D2
0000304C  103C 000F                526      MOVE.B  #15,D0
00003050                           527      
00003050  6000 0002                528      BRA     DISPLAY_ADD_ADDA
00003054                           529      
00003054                           530  DISPLAY_ADD_ADDA
00003054  BAFC 0003                531      CMP.W   #%011,A5
00003058  6700 000E                532      BEQ     DISPLAY_ADDA_W
0000305C                           533      
0000305C  BAFC 0007                534      CMP.W   #%111,A5
00003060  6700 0022                535      BEQ     DISPLAY_ADDA_L
00003064                           536      
00003064  6000 020A                537      BRA     DISPLAY_ADD
00003068                           538  
00003068                           539  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00003068                           540  
00003068                           541  DISPLAY_ADDA_W
00003068  43F9 000010E3            542      LEA     ADDA_OUTPUT,A1
0000306E  103C 000E                543      MOVE.B  #14,D0
00003072  4E4F                     544      TRAP    #15
00003074                           545  
00003074  43F9 000010F9            546      LEA     W_OUTPUT,A1
0000307A  103C 000E                547      MOVE.B  #14,D0
0000307E  4E4F                     548      TRAP    #15
00003080                           549  
00003080  6000 01CA                550      BRA     DISPLAY_ADDA_REGISTER
00003084                           551  
00003084                           552  DISPLAY_ADDA_L
00003084  43F9 000010E3            553      LEA     ADDA_OUTPUT,A1
0000308A  103C 000E                554      MOVE.B  #14,D0
0000308E  4E4F                     555      TRAP    #15
00003090                           556      
00003090  43F9 000010FD            557      LEA     L_OUTPUT,A1
00003096  103C 000E                558      MOVE.B  #14,D0
0000309A  4E4F                     559      TRAP    #15
0000309C                           560      
0000309C  6100 0006                561      BSR     GET_EFFECTIVE_ADDRESS_ea
000030A0  6000 01AA                562      BRA     DISPLAY_ADDA_REGISTER
000030A4                           563      
000030A4                           564  ;subroutine;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000030A4                           565  GET_EFFECTIVE_ADDRESS_ea
000030A4  BCFC 0000                566      CMP.W   #%000,A6
000030A8  6700 002E                567      BEQ     DISPLAY_Dn_ea
000030AC                           568      
000030AC  BCFC 0001                569      CMP.W   #%001,A6
000030B0  6700 003E                570      BEQ     DISPLAY_An_ea
000030B4                           571      
000030B4  BCFC 0002                572      CMP.W   #%010,A6
000030B8  6700 004E                573      BEQ     DISPLAY_An_ADDRESS_ea
000030BC                           574      
000030BC  BCFC 0003                575      CMP.W   #%011,A6
000030C0  6700 0072                576      BEQ     DISPLAY_An_ADDRESS_INCREMENT_ea
000030C4                           577      
000030C4  BCFC 0004                578      CMP.W   #%100,A6
000030C8  6700 00A0                579      BEQ     DISPLAY_An_ADDRESS_DECREMENT_ea
000030CC                           580      
000030CC  BCFC 0007                581      CMP.W   #%111,A6
000030D0  6700 00CE                582      BEQ     DISPLAY_ADDRESS_OR_DATA_ea
000030D4                           583      
000030D4  6000 DFC4                584      BRA     IF_INVALID_OP
000030D8                           585  
000030D8                           586  DISPLAY_Dn_ea
000030D8  123C 0044                587      MOVE.B  #D,D1
000030DC  103C 0006                588      MOVE.B  #6,D0
000030E0  4E4F                     589      TRAP    #15
000030E2                           590      
000030E2  143C 0010                591      MOVE.B  #16,D2
000030E6  103C 000F                592      MOVE.B  #15,D0
000030EA  2204                     593      MOVE.L  D4,D1
000030EC  4E4F                     594      TRAP    #15
000030EE                           595      
000030EE  4E75                     596      RTS
000030F0                           597  
000030F0                           598  DISPLAY_An_ea
000030F0  123C 0041                599      MOVE.B  #A,D1
000030F4  103C 0006                600      MOVE.B  #6,D0
000030F8  4E4F                     601      TRAP    #15
000030FA                           602      
000030FA  143C 0010                603      MOVE.B  #16,D2
000030FE  103C 000F                604      MOVE.B  #15,D0
00003102  2204                     605      MOVE.L  D4,D1
00003104                           606      
00003104  4E4F                     607      TRAP    #15
00003106                           608      
00003106  4E75                     609      RTS
00003108                           610  
00003108                           611  DISPLAY_An_ADDRESS_ea
00003108  123C 0028                612      MOVE.B  #LEFT_PAR,D1
0000310C  103C 0006                613      MOVE.B  #6,D0
00003110  4E4F                     614      TRAP    #15
00003112                           615  
00003112  123C 0041                616      MOVE.B  #A,D1
00003116  103C 0006                617      MOVE.B  #6,D0
0000311A  4E4F                     618      TRAP    #15
0000311C                           619      
0000311C  143C 0010                620      MOVE.B  #16,D2
00003120  103C 000F                621      MOVE.B  #15,D0
00003124  2204                     622      MOVE.L  D4,D1
00003126                           623      
00003126  4E4F                     624      TRAP    #15
00003128                           625      
00003128  123C 0029                626      MOVE.B  #RIGHT_PAR,D1
0000312C  103C 0006                627      MOVE.B  #6,D0
00003130  4E4F                     628      TRAP    #15
00003132                           629      
00003132  4E75                     630      RTS
00003134                           631  
00003134                           632  DISPLAY_An_ADDRESS_INCREMENT_ea
00003134  123C 0028                633      MOVE.B  #LEFT_PAR,D1
00003138  103C 0006                634      MOVE.B  #6,D0
0000313C  4E4F                     635      TRAP    #15
0000313E                           636  
0000313E  123C 0041                637      MOVE.B  #A,D1
00003142  103C 0006                638      MOVE.B  #6,D0
00003146  4E4F                     639      TRAP    #15
00003148                           640      
00003148  143C 0010                641      MOVE.B  #16,D2
0000314C  103C 000F                642      MOVE.B  #15,D0
00003150  2204                     643      MOVE.L  D4,D1
00003152                           644      
00003152  4E4F                     645      TRAP    #15
00003154                           646      
00003154  123C 0029                647      MOVE.B  #RIGHT_PAR,D1
00003158  103C 0006                648      MOVE.B  #6,D0
0000315C  4E4F                     649      TRAP    #15
0000315E                           650      
0000315E  123C 002B                651      MOVE.B  #PLUS,D1
00003162  103C 0006                652      MOVE.B  #6,D0
00003166  4E4F                     653      TRAP    #15
00003168                           654      
00003168  4E75                     655      RTS
0000316A                           656  
0000316A                           657  DISPLAY_An_ADDRESS_DECREMENT_ea
0000316A  123C 002D                658      MOVE.B  #MINUS,D1
0000316E  103C 0006                659      MOVE.B  #6,D0
00003172  4E4F                     660      TRAP    #15
00003174                           661  
00003174  123C 0028                662      MOVE.B  #LEFT_PAR,D1
00003178  103C 0006                663      MOVE.B  #6,D0
0000317C  4E4F                     664      TRAP    #15
0000317E                           665  
0000317E  123C 0041                666      MOVE.B  #A,D1
00003182  103C 0006                667      MOVE.B  #6,D0
00003186  4E4F                     668      TRAP    #15
00003188                           669      
00003188  143C 0010                670      MOVE.B  #16,D2
0000318C  103C 000F                671      MOVE.B  #15,D0
00003190  2204                     672      MOVE.L  D4,D1
00003192                           673      
00003192  4E4F                     674      TRAP    #15
00003194                           675      
00003194  123C 0029                676      MOVE.B  #RIGHT_PAR,D1
00003198  103C 0006                677      MOVE.B  #6,D0
0000319C  4E4F                     678      TRAP    #15
0000319E                           679      
0000319E  4E75                     680      RTS
000031A0                           681  
000031A0                           682  DISPLAY_ADDRESS_OR_DATA_ea
000031A0  BCFC 0000                683      CMP.W   #%000,A6
000031A4  6700 0016                684      BEQ     DISPLAY_ADDRESS_WORD_ea
000031A8                           685      
000031A8  BCFC 0001                686      CMP.W   #%001,A6
000031AC  6700 002A                687      BEQ     DISPLAY_ADDRESS_LONG_ea
000031B0                           688      
000031B0  BCFC 0004                689      CMP.W   #%100,A6
000031B4  6700 003A                690      BEQ     DISPLAY_DATA_ea
000031B8                           691      
000031B8  6000 DEE0                692      BRA     IF_INVALID_OP
000031BC                           693      
000031BC                           694  DISPLAY_ADDRESS_WORD_ea
000031BC  544A                     695      ADDQ    #2,A2
000031BE                           696      
000031BE  123C 0024                697      MOVE.B  #HEX,D1
000031C2  103C 0006                698      MOVE.B  #6,D0
000031C6  4E4F                     699      TRAP    #15
000031C8                           700      
000031C8  3212                     701      MOVE.W  (A2),D1
000031CA  C2BC 0000FFFF            702      AND.L   #$0000FFFF,D1
000031D0  103C 000F                703      MOVE.B  #15,D0
000031D4  4E4F                     704      TRAP    #15
000031D6                           705      
000031D6  4E75                     706      RTS
000031D8                           707  
000031D8                           708  DISPLAY_ADDRESS_LONG_ea
000031D8  544A                     709      ADDQ    #2,A2
000031DA                           710      
000031DA  123C 0024                711      MOVE.B  #HEX,D1
000031DE  103C 0006                712      MOVE.B  #6,D0
000031E2  4E4F                     713      TRAP    #15
000031E4                           714      
000031E4  2212                     715      MOVE.L  (A2),D1
000031E6  103C 000F                716      MOVE.B  #15,D0
000031EA  4E4F                     717      TRAP    #15
000031EC                           718      
000031EC  544A                     719      ADDQ    #2,A2
000031EE                           720      
000031EE  4E75                     721      RTS
000031F0                           722      
000031F0                           723  DISPLAY_DATA_ea
000031F0  BAFC 0003                724      CMP.W   #%011,A5
000031F4  6700 000E                725      BEQ     DISPLAY_DATA_WORD_ea
000031F8                           726      
000031F8  BAFC 0007                727      CMP.W   #%111,A5
000031FC  6700 002C                728      BEQ     DISPLAY_DATA_LONG_ea
00003200                           729  
00003200  6000 DE98                730      BRA     IF_INVALID_OP
00003204                           731  
00003204                           732  DISPLAY_DATA_WORD_ea
00003204  544A                     733      ADDQ    #2,A2
00003206                           734      
00003206  123C 0023                735      MOVE.B  #NUM,D1
0000320A  103C 0006                736      MOVE.B  #6,D0
0000320E  4E4F                     737      TRAP    #15
00003210                           738      
00003210  123C 0024                739      MOVE.B  #HEX,D1
00003214  103C 0006                740      MOVE.B  #6,D0
00003218  4E4F                     741      TRAP    #15
0000321A                           742      
0000321A  3212                     743      MOVE.W  (A2),D1
0000321C  C2BC 0000FFFF            744      AND.L   #$0000FFFF,D1
00003222  103C 000F                745      MOVE.B  #15,D0
00003226  4E4F                     746      TRAP    #15
00003228                           747      
00003228  4E75                     748      RTS
0000322A                           749      
0000322A                           750  DISPLAY_DATA_LONG_ea
0000322A  544A                     751      ADDQ    #2,A2
0000322C                           752      
0000322C  123C 0023                753      MOVE.B  #NUM,D1
00003230  103C 0006                754      MOVE.B  #6,D0
00003234  4E4F                     755      TRAP    #15
00003236                           756      
00003236  123C 0024                757      MOVE.B  #HEX,D1
0000323A  103C 0006                758      MOVE.B  #6,D0
0000323E  4E4F                     759      TRAP    #15
00003240                           760      
00003240  3212                     761      MOVE.W  (A2),D1
00003242  103C 000F                762      MOVE.B  #15,D0
00003246  4E4F                     763      TRAP    #15
00003248                           764      
00003248  544A                     765      ADDQ    #2,A2
0000324A                           766      
0000324A  4E75                     767      RTS
0000324C                           768  
0000324C                           769  
0000324C                           770  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
0000324C                           771   
0000324C                           772  DISPLAY_ADDA_REGISTER
0000324C  123C 002C                773      MOVE.B  #COMMA,D1
00003250  103C 0006                774      MOVE.B  #6,D0
00003254  4E4F                     775      TRAP    #15
00003256                           776  
00003256  123C 0041                777      MOVE.B  #A,D1
0000325A  103C 0006                778      MOVE.B  #6,D0
0000325E  4E4F                     779      TRAP    #15
00003260                           780      
00003260  143C 0010                781      MOVE.B  #16,D2
00003264  103C 000F                782      MOVE.B  #15,D0
00003268  220C                     783      MOVE.L  A4,D1
0000326A  4E4F                     784      TRAP    #15
0000326C                           785      
0000326C  6000 DE3C                786      BRA     ITERATE
00003270                           787      
00003270                           788  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00003270                           789      
00003270                           790  
00003270                           791  DISPLAY_ADD
00003270  43F9 000010E8            792      LEA     ADD_OUTPUT,A1
00003276  103C 000E                793      MOVE.B  #14,D0
0000327A  4E4F                     794      TRAP    #15
0000327C                           795      
0000327C  6000 0002                796      BRA     DISPLAY_ARGS
00003280                           797      
00003280                           798  DISPLAY_ARGS    
00003280                           799      
00003280  BAFC 0000                800      CMP.W   #%000,A5
00003284  6700 002E                801      BEQ     DISPLAY_BYTE_SRC
00003288                           802      
00003288  BAFC 0001                803      CMP.W   #%001,A5
0000328C  6700 0048                804      BEQ     DISPLAY_WORD_SRC
00003290                           805      
00003290  BAFC 0002                806      CMP.W   #%010,A5
00003294  6700 0062                807      BEQ     DISPLAY_LONG_SRC
00003298                           808      
00003298  BAFC 0004                809      CMP.W   #%100,A5
0000329C  6700 007C                810      BEQ     DISPLAY_BYTE_DEST
000032A0                           811      
000032A0  BAFC 0005                812      CMP.W   #%101,A5
000032A4  6700 0096                813      BEQ     DISPLAY_WORD_DEST
000032A8                           814      
000032A8  BAFC 0006                815      CMP.W   #%110,A5
000032AC  6700 00B0                816      BEQ     DISPLAY_LONG_DEST
000032B0                           817      
000032B0  6000 DDE8                818      BRA     IF_INVALID_OP   
000032B4                           819      
000032B4                           820  DISPLAY_BYTE_SRC
000032B4  43F9 000010F5            821      LEA     B_OUTPUT,A1
000032BA  103C 000E                822      MOVE.B  #14,D0
000032BE  4E4F                     823      TRAP    #15
000032C0                           824  
000032C0  6100 FDE2                825      BSR     GET_EFFECTIVE_ADDRESS_ea
000032C4                           826      
000032C4  123C 002C                827      MOVE.B  #COMMA,D1
000032C8  103C 0006                828      MOVE.B  #6,D0
000032CC  4E4F                     829      TRAP    #15
000032CE                           830      
000032CE  6100 00B0                831      BSR     DISPLAY_Dn_ADD
000032D2                           832      
000032D2  6000 DDD6                833      BRA     ITERATE
000032D6                           834  
000032D6                           835  DISPLAY_WORD_SRC
000032D6  43F9 000010F9            836      LEA     W_OUTPUT,A1
000032DC  103C 000E                837      MOVE.B  #14,D0
000032E0  4E4F                     838      TRAP    #15
000032E2                           839  
000032E2  6100 FDC0                840      BSR     GET_EFFECTIVE_ADDRESS_ea
000032E6                           841  
000032E6  123C 002C                842      MOVE.B  #COMMA,D1
000032EA  103C 0006                843      MOVE.B  #6,D0
000032EE  4E4F                     844      TRAP    #15    
000032F0                           845  
000032F0  6100 008E                846      BSR     DISPLAY_Dn_ADD
000032F4                           847      
000032F4  6000 DDB4                848      BRA     ITERATE
000032F8                           849  
000032F8                           850  DISPLAY_LONG_SRC
000032F8  43F9 000010FD            851      LEA     L_OUTPUT,A1
000032FE  103C 000E                852      MOVE.B  #14,D0
00003302  4E4F                     853      TRAP    #15
00003304                           854  
00003304  6100 FD9E                855      BSR     GET_EFFECTIVE_ADDRESS_ea
00003308                           856  
00003308  123C 002C                857      MOVE.B  #COMMA,D1
0000330C  103C 0006                858      MOVE.B  #6,D0
00003310  4E4F                     859      TRAP    #15    
00003312                           860  
00003312  6100 006C                861      BSR     DISPLAY_Dn_ADD
00003316                           862      
00003316  6000 DD92                863      BRA     ITERATE
0000331A                           864  
0000331A                           865  DISPLAY_BYTE_DEST
0000331A  43F9 000010F5            866      LEA     B_OUTPUT,A1
00003320  103C 000E                867      MOVE.B  #14,D0
00003324  4E4F                     868      TRAP    #15
00003326                           869  
00003326  6100 0058                870      BSR     DISPLAY_Dn_ADD
0000332A                           871      
0000332A  123C 002C                872      MOVE.B  #COMMA,D1
0000332E  103C 0006                873      MOVE.B  #6,D0
00003332  4E4F                     874      TRAP    #15    
00003334                           875  
00003334  6100 0062                876      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
00003338                           877      
00003338  6000 DD70                878      BRA     ITERATE
0000333C                           879  
0000333C                           880  DISPLAY_WORD_DEST
0000333C  43F9 000010F9            881      LEA     W_OUTPUT,A1
00003342  103C 000E                882      MOVE.B  #14,D0
00003346  4E4F                     883      TRAP    #15
00003348                           884  
00003348  6100 0036                885      BSR     DISPLAY_Dn_ADD
0000334C                           886      
0000334C  123C 002C                887      MOVE.B  #COMMA,D1
00003350  103C 0006                888      MOVE.B  #6,D0
00003354  4E4F                     889      TRAP    #15    
00003356                           890  
00003356  6100 0040                891      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
0000335A                           892      
0000335A  6000 DD4E                893      BRA     ITERATE
0000335E                           894  
0000335E                           895  DISPLAY_LONG_DEST
0000335E  43F9 000010FD            896      LEA     L_OUTPUT,A1
00003364  103C 000E                897      MOVE.B  #14,D0
00003368  4E4F                     898      TRAP    #15
0000336A                           899  
0000336A  6100 0014                900      BSR     DISPLAY_Dn_ADD
0000336E                           901      
0000336E  123C 002C                902      MOVE.B  #COMMA,D1
00003372  103C 0006                903      MOVE.B  #6,D0
00003376  4E4F                     904      TRAP    #15    
00003378                           905  
00003378  6100 001E                906      BSR     GET_EFFECTIVE_ADDRESS_ea_DEST 
0000337C                           907      
0000337C  6000 DD2C                908      BRA     ITERATE
00003380                           909      
00003380                           910  DISPLAY_Dn_ADD
00003380  123C 0044                911      MOVE.B  #D,D1
00003384  103C 0006                912      MOVE.B  #6,D0
00003388  4E4F                     913      TRAP    #15
0000338A                           914      
0000338A  143C 0010                915      MOVE.B  #16,D2
0000338E  103C 000F                916      MOVE.B  #15,D0
00003392  220C                     917      MOVE.L  A4,D1
00003394  4E4F                     918      TRAP    #15
00003396                           919      
00003396  4E75                     920      RTS
00003398                           921  
00003398                           922  ;subroutine;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
00003398                           923  GET_EFFECTIVE_ADDRESS_ea_DEST   
00003398  BCFC 0002                924      CMP.W   #%010,A6
0000339C  6700 FD6A                925      BEQ     DISPLAY_An_ADDRESS_ea
000033A0                           926      
000033A0  BCFC 0003                927      CMP.W   #%011,A6
000033A4  6700 FD8E                928      BEQ     DISPLAY_An_ADDRESS_INCREMENT_ea
000033A8                           929      
000033A8  BCFC 0004                930      CMP.W   #%100,A6
000033AC  6700 FDBC                931      BEQ     DISPLAY_An_ADDRESS_DECREMENT_ea
000033B0                           932      
000033B0  BCFC 0007                933      CMP.W   #%111,A6
000033B4  6700 FDEA                934      BEQ     DISPLAY_ADDRESS_OR_DATA_ea
000033B8                           935      
000033B8  6000 DCE0                936      BRA     IF_INVALID_OP
000033BC                           937  
000033BC                           938  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000033BC                           939  
000033BC                           940      
000033BC                           941      
000033BC                           942  -------------------- end include --------------------
000033BC                           943          INCLUDE SUB.X68
00004000                           944      ORG    $4000
00004000                           945  
00004000                           946  IF_SUB 
00004000  360C                     947      MOVE.W  A4,D3
00004002                           948      
00004002                           949      ;Get the register
00004002  C67C 0FFF                950      AND.W   #$0FFF,D3
00004006  E743                     951      ASL.W   #3,D3
00004008  3803                     952      MOVE.W  D3,D4
0000400A  C8BC 0000F000            953      AND.L   #$0000F000,D4
00004010  E95C                     954      ROL.W   #4,D4
00004012  2844                     955      MOVE.L  D4,A4 ;register
00004014                           956  
00004014                           957      ;Get the opmode
00004014  C67C 0FFF                958      AND.W   #$0FFF,D3
00004018  E743                     959      ASL.W   #3,D3
0000401A  3803                     960      MOVE.W  D3,D4
0000401C  C8BC 0000F000            961      AND.L   #$0000F000,D4
00004022  E95C                     962      ROL.W   #4,D4
00004024  2A44                     963      MOVE.L  D4,A5 ;opmode
00004026                           964  
00004026                           965      ;Get the effective mode 
00004026  C67C 0FFF                966      AND.W   #$0FFF,D3
0000402A  E743                     967      ASL.W   #3,D3
0000402C  3803                     968      MOVE.W  D3,D4
0000402E  C8BC 0000F000            969      AND.L   #$0000F000,D4
00004034  E95C                     970      ROL.W   #4,D4
00004036  2C44                     971      MOVE.L  D4,A6 ;effective mode
00004038                           972      
00004038                           973      ;Get the effective register
00004038  C67C 0FFF                974      AND.W   #$0FFF,D3
0000403C  E743                     975      ASL.W   #3,D3
0000403E  3803                     976      MOVE.W  D3,D4
00004040  C8BC 0000F000            977      AND.L   #$0000F000,D4
00004046  E95C                     978      ROL.W   #4,D4 ;effective register
00004048                           979      
00004048  143C 0010                980      MOVE.B  #16,D2
0000404C  103C 000F                981      MOVE.B  #15,D0
00004050                           982      
00004050  6000 0002                983      BRA     DISPLAY_SUB
00004054                           984      
00004054                           985  DISPLAY_SUB
00004054  43F9 000010EC            986      LEA     SUB_OUTPUT,A1
0000405A  103C 000E                987      MOVE.B  #14,D0
0000405E  4E4F                     988      TRAP    #15
00004060                           989      
00004060  6000 F21E                990      BRA     DISPLAY_ARGS
00004060  6000 F21E                991  -------------------- end include --------------------
00004064                           992          INCLUDE ADDQ.X68
00005000                           993      ORG    $5000
00005000                           994  
00005000                           995  IF_ADDQ 
00005000  360C                     996      MOVE.W  A4,D3
00005002                           997      
00005002                           998      ;Get the register
00005002  C67C 0FFF                999      AND.W   #$0FFF,D3
00005006  E743                    1000      ASL.W   #3,D3
00005008  3803                    1001      MOVE.W  D3,D4
0000500A  C8BC 0000F000           1002      AND.L   #$0000F000,D4
00005010  E95C                    1003      ROL.W   #4,D4
00005012  2844                    1004      MOVE.L  D4,A4 ;data
00005014                          1005  
00005014                          1006      ;Get the opmode
00005014  C67C 0FFF               1007      AND.W   #$0FFF,D3
00005018  E743                    1008      ASL.W   #3,D3
0000501A  3803                    1009      MOVE.W  D3,D4
0000501C  C8BC 0000F000           1010      AND.L   #$0000F000,D4
00005022  E95C                    1011      ROL.W   #4,D4
00005024  2A44                    1012      MOVE.L  D4,A5 ;size
00005026                          1013  
00005026                          1014      ;Get the effective mode 
00005026  C67C 0FFF               1015      AND.W   #$0FFF,D3
0000502A  E743                    1016      ASL.W   #3,D3
0000502C  3803                    1017      MOVE.W  D3,D4
0000502E  C8BC 0000F000           1018      AND.L   #$0000F000,D4
00005034  E95C                    1019      ROL.W   #4,D4
00005036  2C44                    1020      MOVE.L  D4,A6 ;effective mode
00005038                          1021      
00005038                          1022      ;Get the effective register
00005038  C67C 0FFF               1023      AND.W   #$0FFF,D3
0000503C  E743                    1024      ASL.W   #3,D3
0000503E  3803                    1025      MOVE.W  D3,D4
00005040  C8BC 0000F000           1026      AND.L   #$0000F000,D4
00005046  E95C                    1027      ROL.W   #4,D4 ;effective register
00005048                          1028      
00005048  143C 0010               1029      MOVE.B  #16,D2
0000504C  103C 000F               1030      MOVE.B  #15,D0
00005050                          1031      
00005050  6000 0002               1032      BRA     DISPLAY_ADDQ
00005054                          1033      
00005054                          1034  DISPLAY_ADDQ
00005054  43F9 000010F0           1035      LEA     ADDQ_OUTPUT,A1
0000505A  103C 000E               1036      MOVE.B  #14,D0
0000505E  4E4F                    1037      TRAP    #15
00005060                          1038  
00005060  6000 0002               1039      BRA     DISPLAY_ADDQ_SIZE
00005064                          1040  
00005064                          1041  DISPLAY_ADDQ_SIZE
00005064  BAFC 0000               1042      CMP.W   #%00,A5
00005068  6700 0016               1043      BEQ     DISPLAY_ADDQ_BYTE
0000506C                          1044      
0000506C  BAFC 0001               1045      CMP.W   #%01,A5
00005070  6700 001E               1046      BEQ     DISPLAY_ADDQ_WORD
00005074                          1047      
00005074  BAFC 0002               1048      CMP.W   #%10,A5
00005078  6700 0026               1049      BEQ     DISPLAY_ADDQ_LONG
0000507C                          1050      
0000507C  6000 C01C               1051      BRA     IF_INVALID_OP
00005080                          1052  
00005080                          1053  DISPLAY_ADDQ_BYTE
00005080  43F9 000010F5           1054      LEA     B_OUTPUT,A1
00005086  103C 000E               1055      MOVE.B  #14,D0
0000508A  4E4F                    1056      TRAP    #15
0000508C  6000 0022               1057      BRA     DISPLAY_ADDQ_COMMA
00005090                          1058  
00005090                          1059  DISPLAY_ADDQ_WORD
00005090  43F9 000010F9           1060      LEA     W_OUTPUT,A1
00005096  103C 000E               1061      MOVE.B  #14,D0
0000509A  4E4F                    1062      TRAP    #15
0000509C  6000 0012               1063      BRA     DISPLAY_ADDQ_COMMA
000050A0                          1064  
000050A0                          1065  DISPLAY_ADDQ_LONG
000050A0  43F9 000010FD           1066      LEA     L_OUTPUT,A1
000050A6  103C 000E               1067      MOVE.B  #14,D0
000050AA  4E4F                    1068      TRAP    #15
000050AC  6000 0002               1069      BRA     DISPLAY_ADDQ_COMMA    
000050B0                          1070      
000050B0                          1071  DISPLAY_ADDQ_COMMA
000050B0  43F9 0000002C           1072      LEA     COMMA,A1
000050B6  103C 000E               1073      MOVE.B  #14,D0
000050BA  4E4F                    1074      TRAP    #15
000050BC                          1075      
000050BC  6100 DFE6               1076      BSR     GET_EFFECTIVE_ADDRESS_ea
000050C0  6000 BFE8               1077      BRA     ITERATE
000050C4                          1078  
000050C4                          1079  ;subroutine;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
000050C4                          1080  GET_EFFECTIVE_ADDRESS_ea_NO_DATA
000050C4  BCFC 0000               1081      CMP.W   #%000,A6
000050C8  6700 E00E               1082      BEQ     DISPLAY_Dn_ea
000050CC                          1083      
000050CC  BCFC 0001               1084      CMP.W   #%001,A6
000050D0  6700 E01E               1085      BEQ     DISPLAY_An_ea
000050D4                          1086      
000050D4  BCFC 0002               1087      CMP.W   #%010,A6
000050D8  6700 E02E               1088      BEQ     DISPLAY_An_ADDRESS_ea
000050DC                          1089      
000050DC  BCFC 0003               1090      CMP.W   #%011,A6
000050E0  6700 E052               1091      BEQ     DISPLAY_An_ADDRESS_INCREMENT_ea
000050E4                          1092      
000050E4  BCFC 0004               1093      CMP.W   #%100,A6
000050E8  6700 E080               1094      BEQ     DISPLAY_An_ADDRESS_DECREMENT_ea
000050EC                          1095      
000050EC  BCFC 0007               1096      CMP.W   #%111,A6
000050F0  6700 0006               1097      BEQ     DISPLAY_ADDRESS_ea
000050F4                          1098      
000050F4  6000 BFA4               1099      BRA     IF_INVALID_OP
000050F8                          1100  
000050F8                          1101  DISPLAY_ADDRESS_ea
000050F8  BCFC 0000               1102      CMP.W   #%000,A6
000050FC  6700 E0BE               1103      BEQ     DISPLAY_ADDRESS_WORD_ea
00005100                          1104      
00005100  BCFC 0001               1105      CMP.W   #%001,A6
00005104  6700 E0D2               1106      BEQ     DISPLAY_ADDRESS_LONG_ea
00005108                          1107      
00005108  6000 BF90               1108      BRA     IF_INVALID_OP
0000510C                          1109      
0000510C                          1110  
0000510C                          1111  
0000510C                          1112      
0000510C                          1113      
0000510C                          1114      
0000510C                          1115  -------------------- end include --------------------
00001000                          1116  START   ORG    $1000
00001000                          1117  
00001000                          1118                        ; first instruction of program
00001000                          1119      
00001000                          1120      ;TODO: put in an actual line counter 
00001000  247C 00006000           1121      MOVE.L  #$6000,A2
00001006  267C 00007000           1122      MOVE.L  #$7000,A3
0000100C  6000 00AE               1123      BRA     COMPARE
00001010                          1124  
00001010                          1125  ;Parses Simple Commands, such as NOP     
00001010                          1126  PARSE_SIMPLE    
00001010                          1127      
00001010  3852                    1128      MOVE.W  (A2),A4
00001012                          1129      
00001012  B8FC 4E71               1130      CMP.W   #NOP_CODE,A4
00001016  6700 004A               1131      BEQ     IF_NOP 
0000101A                          1132      
0000101A  B8FC 4E75               1133      CMP.W   #RTS_CODE,A4
0000101E  6700 0052               1134      BEQ     IF_RTS
00001022                          1135      
00001022  6000 0002               1136      BRA     PARSE_COMPLEX
00001026                          1137  
00001026                          1138  ; For parsing more complex commands
00001026                          1139  PARSE_COMPLEX
00001026  3A4C                    1140      MOVE.W  A4,A5
00001028  360C                    1141      MOVE.W  A4,D3
0000102A                          1142      
0000102A  C67C F000               1143      AND.W   #$F000,D3
0000102E                          1144      
0000102E  B67C 1000               1145      CMP.W   #MOVE_B_CODE,D3
00001032  6700 004E               1146      BEQ     IF_MOVE_B
00001036                          1147  
00001036  B67C 3000               1148      CMP.W   #MOVE_W_CODE,D3
0000103A  6700 004E               1149      BEQ     IF_MOVE_W
0000103E                          1150      
0000103E  B67C 2000               1151      CMP.W   #MOVE_L_CODE,D3
00001042  6700 004E               1152      BEQ     IF_MOVE_L
00001046                          1153      
00001046  B67C D000               1154      CMP.W   #ADD_CODE,D3
0000104A  6700 1FB4               1155      BEQ     IF_ADD_ADDA
0000104E                          1156      
0000104E  B67C 9000               1157      CMP.W   #SUB_CODE,D3
00001052  6700 2FAC               1158      BEQ     IF_SUB
00001056                          1159      
00001056  B67C 5000               1160      CMP.W   #ADDQ_CODE,D3
0000105A  6700 2FA4               1161      BEQ     IF_SUB
0000105E                          1162      
0000105E  6000 003A               1163      BRA     IF_INVALID_OP
00001062                          1164      
00001062                          1165      
00001062                          1166  * Put program code here
00001062                          1167  
00001062                          1168  IF_NOP
00001062  43F9 000010CC           1169      LEA     NOP_OUTPUT,A1
00001068  103C 000E               1170      MOVE.B  #14,D0
0000106C  4E4F                    1171      TRAP    #15
0000106E  6000 003A               1172      BRA     ITERATE
00001072                          1173  
00001072                          1174  IF_RTS
00001072  43F9 000010D2           1175      LEA     RTS_OUTPUT,A1
00001078  103C 000E               1176      MOVE.B  #14,D0
0000107C  4E4F                    1177      TRAP    #15
0000107E  6000 002A               1178      BRA     ITERATE
00001082                          1179  
00001082                          1180  IF_MOVE_B
00001082  3A3C 1000               1181      MOVE.W  #MOVE_B_CODE,D5
00001086  6000 0F78               1182      BRA     PARSE_MOVE
0000108A                          1183  
0000108A                          1184  IF_MOVE_W
0000108A  3A3C 3000               1185      MOVE.W  #MOVE_W_CODE,D5
0000108E  6000 0F70               1186      BRA     PARSE_MOVE
00001092                          1187  
00001092                          1188  IF_MOVE_L
00001092  3A3C 2000               1189      MOVE.W  #MOVE_L_CODE,D5
00001096  6000 0F68               1190      BRA     PARSE_MOVE
0000109A                          1191  
0000109A                          1192  IF_INVALID_OP
0000109A  43F9 00001101           1193      LEA     INVALID_OUTPUT,A1
000010A0  103C 000E               1194      MOVE.B  #14,D0
000010A4  4E4F                    1195      TRAP    #15
000010A6  6000 001E               1196      BRA     DONE
000010AA                          1197  
000010AA                          1198  ITERATE
000010AA  548A                    1199      ADDQ.L  #2,A2
000010AC                          1200      
000010AC  43F9 00001116           1201      LEA     NEWLINE,A1
000010B2  103C 000E               1202      MOVE.B  #14,D0
000010B6  4E4F                    1203      TRAP    #15
000010B8                          1204      
000010B8  6000 0002               1205      BRA     COMPARE
000010BC                          1206      
000010BC                          1207  COMPARE    
000010BC  B4CB                    1208      CMP     A3,A2     
000010BE  6C00 0006               1209      BGE     DONE
000010C2  6000 FF4C               1210      BRA     PARSE_SIMPLE
000010C6                          1211  
000010C6                          1212  DONE
000010C6  103C 0009               1213      MOVE.B  #9,D0
000010CA  4E4F                    1214      TRAP    #15
000010CC                          1215  
000010CC                          1216  * Put variables and constants here
000010CC                          1217  
000010CC  =0000000D               1218  CR              EQU     $0D
000010CC  =0000000A               1219  LF              EQU     $0A
000010CC  =00000028               1220  LEFT_PAR        EQU     $28
000010CC  =00000029               1221  RIGHT_PAR       EQU     $29
000010CC  =00000041               1222  A               EQU     $41
000010CC  =00000044               1223  D               EQU     $44
000010CC  =0000002B               1224  PLUS            EQU     $2B
000010CC  =0000002D               1225  MINUS           EQU     $2D
000010CC  =00000023               1226  NUM             EQU     $23
000010CC  =00000024               1227  HEX             EQU     $24
000010CC  =0000002C               1228  COMMA           EQU     $2C
000010CC                          1229  
000010CC                          1230  ;Codes to be parsed
000010CC  =00004E71               1231  NOP_CODE        EQU     $4E71
000010CC  =00004E75               1232  RTS_CODE        EQU     $4E75
000010CC  =00001000               1233  MOVE_B_CODE     EQU     $1000 ; MOVE.B, MOVEA.B (done)
000010CC  =00003000               1234  MOVE_W_CODE     EQU     $3000 ; MOVE.W, MOVEA.W (done)
000010CC  =00002000               1235  MOVE_L_CODE     EQU     $2000 ; MOVE.L, MOVEA.L (done)
000010CC  =00007000               1236  MOVEQ_CODE      EQU     $7000 ; MOVEQ (Andrey)
000010CC  =00008000               1237  DIVU_OR_CODE    EQU     $8000 ; DIVU, OR
000010CC  =00009000               1238  SUB_CODE        EQU     $9000 ; SUB (done)
000010CC  =0000A000               1239  MULS_AND_CODE   EQU     $A000 ; MULS, AND
000010CC  =0000D000               1240  ADD_CODE        EQU     $D000 ; ADD, ADDA (done)
000010CC  =0000E000               1241  LS_CODE         EQU     $E000 ; LOGICAL SHIFTS
000010CC  =00005000               1242  ADDQ_CODE       EQU     $5000 ; ADDQ (done)
000010CC  =00006000               1243  Bcc_BRA_CODE    EQU     $6000 ; Bcc (BGT, BLE, BEQ), BRA
000010CC  =00004000               1244  MISC_CODE       EQU     $4000 ; MULS, LEA, NOT, JSR, MOVEM
000010CC                          1245  
000010CC                          1246  ;Sample outputs
000010CC= 4E 4F 50 0D 0A 00       1247  NOP_OUTPUT      DC.B    'NOP',CR,LF,0
000010D2= 52 54 53 0D 0A 00       1248  RTS_OUTPUT      DC.B    'RTS',CR,LF,0
000010D8                          1249  
000010D8= 4D 4F 56 45 41 00       1250  MOVEA_OUTPUT    DC.B    'MOVEA',0
000010DE= 4D 4F 56 45 00          1251  MOVE_OUTPUT     DC.B    'MOVE',0
000010E3= 41 44 44 41 00          1252  ADDA_OUTPUT     DC.B    'ADDA',0
000010E8= 41 44 44 00             1253  ADD_OUTPUT      DC.B    'ADD',0
000010EC= 53 55 42 00             1254  SUB_OUTPUT      DC.B    'SUB',0
000010F0= 41 44 44 51 00          1255  ADDQ_OUTPUT     DC.B    'ADDQ',0
000010F5                          1256  
000010F5= 2E 42 20 00             1257  B_OUTPUT        DC.B    '.B ',0
000010F9= 2E 57 20 00             1258  W_OUTPUT        DC.B    '.W ',0
000010FD= 2E 4C 20 00             1259  L_OUTPUT        DC.B    '.L ',0
00001101                          1260  
00001101= 49 6E 76 61 6C 69 ...   1261  INVALID_OUTPUT  DC.B    'Invalid operation!',CR,LF,0
00001116= 0D 0A 00                1262  NEWLINE         DC.B    CR,LF,0
00001119                          1263  
00001119                          1264              END    START        ; last line of source

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
A                   41
ADDA_OUTPUT         10E3
ADDQ_CODE           5000
ADDQ_OUTPUT         10F0
ADD_CODE            D000
ADD_OUTPUT          10E8
BCC_BRA_CODE        6000
B_OUTPUT            10F5
COMMA               2C
COMPARE             10BC
CR                  D
D                   44
DISPLAY_ADD         3270
DISPLAY_ADDA_L      3084
DISPLAY_ADDA_REGISTER  324C
DISPLAY_ADDA_W      3068
DISPLAY_ADDQ        5054
DISPLAY_ADDQ_BYTE   5080
DISPLAY_ADDQ_COMMA  50B0
DISPLAY_ADDQ_LONG   50A0
DISPLAY_ADDQ_SIZE   5064
DISPLAY_ADDQ_WORD   5090
DISPLAY_ADDRESS_EA  50F8
DISPLAY_ADDRESS_LONG_DEST  2404
DISPLAY_ADDRESS_LONG_EA  31D8
DISPLAY_ADDRESS_LONG_SRC  220A
DISPLAY_ADDRESS_OR_DATA_DEST  23C6
DISPLAY_ADDRESS_OR_DATA_EA  31A0
DISPLAY_ADDRESS_OR_DATA_SRC  21CE
DISPLAY_ADDRESS_WORD_DEST  23DA
DISPLAY_ADDRESS_WORD_EA  31BC
DISPLAY_ADDRESS_WORD_SRC  21EA
DISPLAY_ADD_ADDA    3054
DISPLAY_AN_ADDRESS_DECREMENT_EA  316A
DISPLAY_AN_ADDRESS_EA  3108
DISPLAY_AN_ADDRESS_INCREMENT_EA  3134
DISPLAY_AN_DEST     230E
DISPLAY_AN_EA       30F0
DISPLAY_AN_SRC      2116
DISPLAY_ARGS        3280
DISPLAY_AT_AN_DECREMENT_DEST  238E
DISPLAY_AT_AN_DECREMENT_SRC  2196
DISPLAY_AT_AN_DEST  2328
DISPLAY_AT_AN_INCREMENT_DEST  2356
DISPLAY_AT_AN_INCREMENT_SRC  215E
DISPLAY_AT_AN_SRC   2130
DISPLAY_BYTE        2098
DISPLAY_BYTE_DEST   331A
DISPLAY_BYTE_SRC    32B4
DISPLAY_DATA_EA     31F0
DISPLAY_DATA_LONG_EA  322A
DISPLAY_DATA_SRC    2224
DISPLAY_DATA_SRC_BYTE  2240
DISPLAY_DATA_SRC_LONG  2292
DISPLAY_DATA_SRC_WORD  2268
DISPLAY_DATA_WORD_EA  3204
DISPLAY_DEST        22B6
DISPLAY_DN_ADD      3380
DISPLAY_DN_DEST     22F4
DISPLAY_DN_EA       30D8
DISPLAY_DN_SRC      20FC
DISPLAY_LONG        20B8
DISPLAY_LONG_DEST   335E
DISPLAY_LONG_SRC    32F8
DISPLAY_MOVE        206C
DISPLAY_MOVEA       205C
DISPLAY_SRC_MODE    20C8
DISPLAY_SUB         4054
DISPLAY_TYPE        207C
DISPLAY_WORD        20A8
DISPLAY_WORD_DEST   333C
DISPLAY_WORD_SRC    32D6
DIVU_OR_CODE        8000
DONE                10C6
GET_EFFECTIVE_ADDRESS_EA  30A4
GET_EFFECTIVE_ADDRESS_EA_DEST  3398
GET_EFFECTIVE_ADDRESS_EA_NO_DATA  50C4
HEX                 24
IF_ADDQ             5000
IF_ADD_ADDA         3000
IF_INVALID_OP       109A
IF_MOVE_B           1082
IF_MOVE_L           1092
IF_MOVE_W           108A
IF_NOP              1062
IF_RTS              1072
IF_SUB              4000
INVALID_OUTPUT      1101
ITERATE             10AA
LEFT_PAR            28
LF                  A
LS_CODE             E000
L_OUTPUT            10FD
MINUS               2D
MISC_CODE           4000
MOVEA_OUTPUT        10D8
MOVEQ_CODE          7000
MOVE_B_CODE         1000
MOVE_L_CODE         2000
MOVE_OUTPUT         10DE
MOVE_W_CODE         3000
MULS_AND_CODE       A000
NEWLINE             1116
NOP_CODE            4E71
NOP_OUTPUT          10CC
NUM                 23
PARSE_COMPLEX       1026
PARSE_MOVE          2000
PARSE_SIMPLE        1010
PLUS                2B
RIGHT_PAR           29
RTS_CODE            4E75
RTS_OUTPUT          10D2
START               1000
SUB_CODE            9000
SUB_OUTPUT          10EC
W_OUTPUT            10F9
